{"contract_types":{"registry":{"abi":[{"anonymous":false,"inputs":[{"indexed":true,"name":"_package","type":"bytes32"},{"indexed":false,"name":"_version","type":"bytes32"},{"indexed":false,"name":"_uri","type":"bytes"}],"name":"Release","type":"event"},{"constant":false,"inputs":[],"name":"__init__","outputs":[],"payable":false,"type":"constructor"},{"constant":false,"gas":35627,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwner","outputs":[],"payable":false,"type":"function"},{"constant":false,"gas":1960,"inputs":[{"name":"packageName","type":"bytes32"},{"name":"version","type":"bytes32"}],"name":"getReleaseId","outputs":[{"name":"out","type":"bytes32"}],"payable":false,"type":"function"},{"constant":false,"gas":1509,"inputs":[{"name":"packageName","type":"bytes32"},{"name":"version","type":"bytes32"}],"name":"generateReleaseId","outputs":[{"name":"out","type":"bytes32"}],"payable":false,"type":"function"},{"constant":false,"gas":1265,"inputs":[{"name":"packageId","type":"bytes32"}],"name":"getPackageName","outputs":[{"name":"out","type":"bytes32"}],"payable":false,"type":"function"},{"constant":false,"gas":1871,"inputs":[{"name":"packageName","type":"bytes32"}],"name":"getPackageData","outputs":[{"name":"out","type":"bytes32"},{"name":"out","type":"bytes32"},{"name":"out","type":"int128"}],"payable":false,"type":"function"},{"constant":false,"gas":633,"inputs":[],"name":"numPackageIds","outputs":[{"name":"out","type":"int128"}],"payable":false,"type":"function"},{"constant":false,"gas":1442,"inputs":[{"name":"packageName","type":"bytes32"}],"name":"numReleaseIds","outputs":[{"name":"out","type":"int128"}],"payable":false,"type":"function"},{"constant":false,"gas":4856,"inputs":[{"name":"offset","type":"uint256"},{"name":"length","type":"uint256"}],"name":"getAllPackageIds","outputs":[{"name":"out","type":"bytes32"},{"name":"out","type":"bytes32"},{"name":"out","type":"bytes32"},{"name":"out","type":"bytes32"},{"name":"out","type":"bytes32"}],"payable":false,"type":"function"},{"constant":false,"gas":15265,"inputs":[{"name":"packageName","type":"bytes32"},{"name":"offset","type":"uint256"},{"name":"length","type":"uint256"}],"name":"getAllReleaseIds","outputs":[{"name":"out","type":"bytes32"},{"name":"out","type":"bytes32"},{"name":"out","type":"bytes32"},{"name":"out","type":"bytes32"},{"name":"out","type":"bytes32"}],"payable":false,"type":"function"},{"constant":false,"gas":15337,"inputs":[{"name":"releaseId","type":"bytes32"}],"name":"getReleaseData","outputs":[{"name":"out","type":"bytes32"},{"name":"out","type":"bytes32"},{"name":"out","type":"bytes"}],"payable":false,"type":"function"},{"constant":false,"gas":1865761,"inputs":[{"name":"packageName","type":"bytes32"},{"name":"version","type":"bytes32"},{"name":"manifestURI","type":"bytes"}],"name":"release","outputs":[{"name":"out","type":"bytes32"}],"payable":false,"type":"function"},{"constant":true,"gas":873,"inputs":[],"name":"owner","outputs":[{"name":"out","type":"address"}],"payable":false,"type":"function"},{"constant":true,"gas":1114,"inputs":[{"name":"arg0","type":"bytes32"}],"name":"packages__exists","outputs":[{"name":"out","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"gas":1138,"inputs":[{"name":"arg0","type":"bytes32"}],"name":"packages__createdAt","outputs":[{"name":"out","type":"uint256"}],"payable":false,"type":"function"},{"constant":true,"gas":1174,"inputs":[{"name":"arg0","type":"bytes32"}],"name":"packages__updatedAt","outputs":[{"name":"out","type":"uint256"}],"payable":false,"type":"function"},{"constant":true,"gas":1204,"inputs":[{"name":"arg0","type":"bytes32"}],"name":"packages__name","outputs":[{"name":"out","type":"bytes32"}],"payable":false,"type":"function"},{"constant":true,"gas":1234,"inputs":[{"name":"arg0","type":"bytes32"}],"name":"packages__releaseCount","outputs":[{"name":"out","type":"int128"}],"payable":false,"type":"function"},{"constant":true,"gas":1264,"inputs":[{"name":"arg0","type":"bytes32"}],"name":"releases__exists","outputs":[{"name":"out","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"gas":1288,"inputs":[{"name":"arg0","type":"bytes32"}],"name":"releases__createdAt","outputs":[{"name":"out","type":"uint256"}],"payable":false,"type":"function"},{"constant":true,"gas":1324,"inputs":[{"name":"arg0","type":"bytes32"}],"name":"releases__packageId","outputs":[{"name":"out","type":"bytes32"}],"payable":false,"type":"function"},{"constant":true,"gas":1354,"inputs":[{"name":"arg0","type":"bytes32"}],"name":"releases__version","outputs":[{"name":"out","type":"bytes32"}],"payable":false,"type":"function"},{"constant":true,"gas":163068,"inputs":[{"name":"arg0","type":"bytes32"}],"name":"releases__uri","outputs":[{"name":"out","type":"bytes"}],"payable":false,"type":"function"},{"constant":true,"gas":1203,"inputs":[],"name":"packageCount","outputs":[{"name":"out","type":"int128"}],"payable":false,"type":"function"},{"constant":true,"gas":1233,"inputs":[],"name":"releaseCount","outputs":[{"name":"out","type":"int128"}],"payable":false,"type":"function"}],"deployment_bytecode":{"bytecode":"0x600035601c52740100000000000000000000000000000000000000006020526f7fffffffffffffffffffffffffffffff6040527fffffffffffffffffffffffffffffffff8000000000000000000000000000000060605274012a05f1fffffffffffffffffffffffffdabf41c006080527ffffffffffffffffffffffffed5fa0e000000000000000000000000000000000060a052341561009e57600080fd5b336000556119c756600035601c52740100000000000000000000000000000000000000006020526f7fffffffffffffffffffffffffffffff6040527fffffffffffffffffffffffffffffffff8000000000000000000000000000000060605274012a05f1fffffffffffffffffffffffffdabf41c006080527ffffffffffffffffffffffffed5fa0e000000000000000000000000000000000060a052634fb2e45d60005114156100dd57602060046101403734156100b457600080fd5b60043560205181106100c557600080fd5b5033600054146100d457600080fd5b61014051600055005b632244dda0600051141561019657604060046101403734156100fe57600080fd5b6000610140516020826102000101526020810190506101605160208261020001015260208101905080610200526102009050805160200180610180828460006004600a8704601201f161015057600080fd5b505061018080516020820120905061028052600160026102805160e05260c052604060c02060c052602060c020015461018857600080fd5b6102805160005260206000f3005b6336739429600051141561022957604060046101403734156101b757600080fd5b6000610140516020826102000101526020810190506101605160208261020001015260208101905080610200526102009050805160200180610180828460006004600a8704601201f161020957600080fd5b5050610180805160208201209050610280526102805160005260206000f3005b6306fe1fd76000511415610297576020600461014037341561024a57600080fd5b600160016101405160e05260c052604060c02060c052602060c020015461027057600080fd5b600260016101405160e05260c052604060c02060c052602060c020015460005260206000f3005b63b4d6d4c7600051141561034c57602060046101403734156102b857600080fd5b6101405160c052602060c02061016052600160016101605160e05260c052604060c02060c052602060c02001546102ee57600080fd5b6060610180526101a0600260016101605160e05260c052604060c02060c052602060c02001548152610160518160200152600360016101605160e05260c052604060c02060c052602060c0200154816040015250610180516101a0f3005b63a54fb685600051141561037257341561036557600080fd5b60045460005260206000f3005b63c18466cb60005114156103f0576020600461014037341561039357600080fd5b6101405160c052602060c02061016052600160016101605160e05260c052604060c02060c052602060c02001546103c957600080fd5b600360016101605160e05260c052604060c02060c052602060c020015460005260206000f3005b6343212cf160005114156105b1576040600461014037341561041157600080fd5b606051610140518060405190131561042857600080fd5b809190121561043657600080fd5b61018052606051610160518060405190131561045157600080fd5b809190121561045f57600080fd5b6101a05260056101a0511461047357600080fd5b60045461018051131561048557600080fd5b610260610180516004818352015b600454610260511315156104ff5760066102605160e05260c052604060c0205461028052610280516101c0606051610180516102605103806040519013156104da57600080fd5b80919012156104e857600080fd5b600581106104f557600080fd5b6020020152610542565b6008546101c06060516101805161026051038060405190131561052157600080fd5b809190121561052f57600080fd5b6005811061053c57600080fd5b60200201525b5b8151600101808352811415610493575b505060a06102a0526102c06101c06000602002015181526101c06001602002015181602001526101c06002602002015181604001526101c06003602002015181606001526101c0600460200201518160800152506102a0516102c0f3005b600015610643575b610180526101405261016052610160516101a0526000610140516020826102400101526020810190506101a051602082610240010152602081019050806102405261024090508051602001806101c0828460006004600a8704601201f161061f57600080fd5b50506101c08051602082012090506102c0526102c051600052600051610180515650005b63fa6bf4da6000511415610930576060600461014037341561066457600080fd5b606051610160518060405190131561067b57600080fd5b809190121561068957600080fd5b6101a05260605161018051806040519013156106a457600080fd5b80919012156106b257600080fd5b6101c05260056101c051146106c657600080fd5b6101405160c052602060c0206101e052600160016101e05160e05260c052604060c02060c052602060c02001546106fc57600080fd5b600360016101e05160e05260c052604060c02060c052602060c02001546101a051131561072857600080fd5b6102a06101a0516004818352015b600360016101e05160e05260c052604060c02060c052602060c02001546102a05113151561087e576101405161016051610180516101a0516101c0516101e05161020051610220516102405161026051610280516102a0516102c05163c658b60e6102e0526101e0516103005260605160016102a05101806040519013156107bd57600080fd5b80919012156107cb57600080fd5b610320526103205161030051600658016105b9565b610380526102c0526102a05261028052610260526102405261022052610200526101e0526101c0526101a052610180526101605261014052610380516102c05260036102c05160e05260c052604060c020546103a0526103a0516102006060516101a0516102a051038060405190131561085957600080fd5b809190121561086757600080fd5b6005811061087457600080fd5b60200201526108c1565b6008546102006060516101a0516102a05103806040519013156108a057600080fd5b80919012156108ae57600080fd5b600581106108bb57600080fd5b60200201525b5b8151600101808352811415610736575b505060a06103c0526103e0610200600060200201518152610200600160200201518160200152610200600260200201518160400152610200600360200201518160600152610200600460200201518160800152506103c0516103e0f3005b634c4aea876000511415610a8e576020600461014037341561095157600080fd5b600160026101405160e05260c052604060c02060c052602060c020015461097757600080fd5b600260026101405160e05260c052604060c02060c052602060c0200154610160526060610180526101a0600260016101605160e05260c052604060c02060c052602060c02001548152600460026101405160e05260c052604060c02060c052602060c02001548160200152610180518160400152600360026101405160e05260c052604060c02060c052602060c020018060c052602060c020610180518301602082540161012060006021818352015b82610120516020021115610a3a57610a5c565b61012051850154610120516020028501525b8151600101808352811415610a27575b5050505050506101805160206101805183015160206001820306601f820103905001016101805250610180516101a0f3005b600015610ea1575b6101e0526101405261016052610180526101a0526101c052610200526000610640525b6102005160206001820306601f820103905061064051101515610adb57610af4565b6106405161022001526106405160200161064052610ab9565b60005060026101405160e05260c052604060c02060c052602060c02042815560016001820155610160516002820155610200806003830160c052602060c020602082510161012060006021818352015b82610120516020021115610b5757610b79565b61012051602002850151610120518501555b8151600101808352811415610b44575b50505050505061018051600482015550600360016101605160e05260c052604060c02060c052602060c02001606051600182540180604051901315610bbd57600080fd5b8091901215610bcb57600080fd5b81555061014051600760055460e05260c052604060c020556005606051600182540180604051901315610bfd57600080fd5b8091901215610c0b57600080fd5b8155506101405161016051610180516101a0516101c0516101e05161020051610220516102405161026051610280516102a0516102c0516102e05161030051610320516103405161036051610380516103a0516103c0516103e05161040051610420516104405161046051610480516104a0516104c0516104e05161050051610520516105405161056051610580516105a0516105c0516105e0516106005161062051610640516106605163c658b60e61068052610160516106a052600360016101605160e05260c052604060c02060c052602060c02001546106c0526106c0516106a051600658016105b9565b61072052610660526106405261062052610600526105e0526105c0526105a05261058052610560526105405261052052610500526104e0526104c0526104a05261048052610460526104405261042052610400526103e0526103c0526103a05261038052610360526103405261032052610300526102e0526102c0526102a05261028052610260526102405261022052610200526101e0526101c0526101a05261018052610160526101405261072051610660526101405160036106605160e05260c052604060c02055610180516107a052604061076052610760516107c052610200805160200180610760516107a001828460006004600a8704601201f1610e0157600080fd5b5050610760516107a0016107408151610400818352015b61040061074051101515610e2b57610e48565b6000610740516020850101535b8151600101808352811415610e18575b5050506020610760516107a0015160206001820306601f8201039050610760510101610760526101c0517f366e54d26a7fd410f41f3e1ae69873cf0380649199abab80b092f988f3e189ca610760516107a0a26101e051565b63142f178c60005114156115315760606004610140373415610ec257600080fd5b6104086044356004016101a0376103e8604435600401351115610ee457600080fd5b600854610140511415610ef657600080fd5b600854610160511415610f0857600080fd5b60006101a05113610f1857600080fd5b3360005414610f2657600080fd5b6101405160c052602060c0206105e05260206106c060446336739429610620526101405161064052610160516106605261063c6000305af1610f6757600080fd5b6106c051610600526001600160016105e05160e05260c052604060c02060c052602060c020015414156112715760016105e05160e05260c052604060c02060c052602060c02060016105e05160e05260c052604060c02060c052602060c02054815560016001820155610140516002820155600360016105e05160e05260c052604060c02060c052602060c0200154600382015542600482015550600160026106005160e05260c052604060c02060c052602060c02001541561102957600080fd5b6101405161016051610180516101a0516101c0516101e05161020051610220516102405161026051610280516102a0516102c0516102e05161030051610320516103405161036051610380516103a0516103c0516103e05161040051610420516104405161046051610480516104a0516104c0516104e05161050051610520516105405161056051610580516105a0516105c0516105e05161060051610620516106405161066051610680516106a0516106c05160a063836ee66e610c205261060051610c40526105e051610c605261016051610c805280610ca0526101a08080516020018084610c4001828460006004600a8704601201f161112b57600080fd5b50508051820160206001820306601f820103905060200191505061014051610cc05250611100611140525b610ce06111405110156111685761118c565b6000611140515114151561117c5761114051515b6020611140510361114052611156565b610cc051610ca051610c8051610c6051610c405160065801610a96565b6106c0526106a05261068052610660526106405261062052610600526105e0526105c0526105a05261058052610560526105405261052052610500526104e0526104c0526104a05261048052610460526104405261042052610400526103e0526103c0526103a05261038052610360526103405261032052610300526102e0526102c0526102a05261028052610260526102405261022052610200526101e0526101c0526101a0526101805261016052610140526000506106005160005260206000f361152f565b60016105e05160e05260c052604060c02060c052602060c0204281556001600182015561014051600282015560006003820155426004820155506105e051600660045460e05260c052604060c0205560046060516001825401806040519013156112da57600080fd5b80919012156112e857600080fd5b8155506101405161016051610180516101a0516101c0516101e05161020051610220516102405161026051610280516102a0516102c0516102e05161030051610320516103405161036051610380516103a0516103c0516103e05161040051610420516104405161046051610480516104a0516104c0516104e05161050051610520516105405161056051610580516105a0516105c0516105e05161060051610620516106405161066051610680516106a0516106c05160a063836ee66e6106e05261060051610700526105e05161072052610160516107405280610760526101a0808051602001808461070001828460006004600a8704601201f16113ed57600080fd5b50508051820160206001820306601f8201039050602001915050610140516107805250610bc0610c00525b6107a0610c0051101561142a5761144e565b6000610c00515114151561143e57610c0051515b6020610c005103610c0052611418565b610780516107605161074051610720516107005160065801610a96565b6106c0526106a05261068052610660526106405261062052610600526105e0526105c0526105a05261058052610560526105405261052052610500526104e0526104c0526104a05261048052610460526104405261042052610400526103e0526103c0526103a05261038052610360526103405261032052610300526102e0526102c0526102a05261028052610260526102405261022052610200526101e0526101c0526101a0526101805261016052610140526000506106005160005260206000f35b005b638da5cb5b600051141561155757341561154a57600080fd5b60005460005260206000f3005b63c7f8a044600051141561159f576020600461014037341561157857600080fd5b600160016101405160e05260c052604060c02060c052602060c020015460005260206000f3005b636366b2f360005114156115e457602060046101403734156115c057600080fd5b60016101405160e05260c052604060c02060c052602060c0205460005260206000f3005b63c40509d8600051141561162c576020600461014037341561160557600080fd5b600460016101405160e05260c052604060c02060c052602060c020015460005260206000f3005b63cb4e26ec6000511415611674576020600461014037341561164d57600080fd5b600260016101405160e05260c052604060c02060c052602060c020015460005260206000f3005b632fa39cad60005114156116bc576020600461014037341561169557600080fd5b600360016101405160e05260c052604060c02060c052602060c020015460005260206000f3005b63c67790b8600051141561170457602060046101403734156116dd57600080fd5b600160026101405160e05260c052604060c02060c052602060c020015460005260206000f3005b63f1849be46000511415611749576020600461014037341561172557600080fd5b60026101405160e05260c052604060c02060c052602060c0205460005260206000f3005b63138b7ae06000511415611791576020600461014037341561176a57600080fd5b600260026101405160e05260c052604060c02060c052602060c020015460005260206000f3005b632ee2bcc160005114156117d957602060046101403734156117b257600080fd5b600460026101405160e05260c052604060c02060c052602060c020015460005260206000f3005b635036899c60005114156118ce57602060046101403734156117fa57600080fd5b600360026101405160e05260c052604060c02060c052602060c020018060c052602060c0206101a0602082540161012060006021818352015b8261012051602002111561184657611868565b61012051850154610120516020028501525b8151600101808352811415611833575b5050505050506105e06101a0516103e8818352015b6103e86105e051111561188f576118ab565b60006105e0516101c001535b815160010180835281141561187d575b505060206101805260406101a0510160206001820306601f8201039050610180f3005b63ee0ebe0c60005114156118f45734156118e757600080fd5b60045460005260206000f3005b63b8d08db2600051141561191a57341561190d57600080fd5b60055460005260206000f3005b60006000fd5b6100a76119c7036100a76000396100a76119c7036000f3"},"natspec":{}}},"deployments":{"blockchain://16f4bc70c2a46fdf1d221b1c4778bce72c75275241bc37260ed0f3a832e6e231/block/2f98cccb87fa1b81415125350a62eb9a5767c674df5a753fae48f31220a94205":{"registry":{"address":"0xf2e246bb76df876cef8b38ae84130f4f55de395b","block":"0x2f98cccb87fa1b81415125350a62eb9a5767c674df5a753fae48f31220a94205","contract_type":"registry","transaction":"0xc24ea0243c963f34f9898614a2db206ad1db289245903f3f0ec102d497d3de30"}}},"manifest_version":"2","package_name":"vyper-registry","sources":{"./registry.vy":"# Vyper Reference Implementation of ERC1319\n# todo: delete pkgs\n\n# Events\nRelease: event({_package: indexed(bytes32), _version: bytes32, _uri: bytes[1000]})\n\nowner: public(address)\n\n# Package Data: (package_id => value)\npackages: public(\n    {\n        exists: bool,\n        createdAt: timestamp,\n        updatedAt: timestamp,\n        name: bytes32,\n        releaseCount: int128,\n    }[bytes32]\n)\n\n#  Release Data: (release_id => value)\nreleases: public(\n    {\n        exists: bool,\n        createdAt: timestamp,\n        packageId: bytes32,\n        version: bytes32,\n        uri: bytes[1000],\n    }[bytes32]\n)\n\n\n# package_id#release_count => release_id\npackageReleaseIndex: bytes32[bytes32]\n# Total number of packages in registry\npackageCount: public(int128)\n# Total number of releases in registry\nreleaseCount: public(int128)\n# Total package number (int128) => package_id (bytes32)\npackageIds: bytes32[int128]\n# Total release number (int128) => release_id (bytes32)\nreleaseIds: bytes32[int128]\n\nEMPTY_BYTES: bytes32\n\n\n@public\ndef __init__():\n    self.owner = msg.sender\n\n\n@public\ndef transferOwner(newOwner: address):\n    assert self.owner == msg.sender\n    self.owner = newOwner\n\n\n@public\ndef getReleaseId(packageName: bytes32, version: bytes32) -> bytes32:\n    releaseConcat: bytes[64] = concat(packageName, version)\n    releaseId: bytes32 = sha3(releaseConcat)\n    assert self.releases[releaseId].exists\n    return releaseId\n\n\n@public\ndef generateReleaseId(packageName: bytes32, version: bytes32) -> bytes32:\n    releaseConcat: bytes[64] = concat(packageName, version)\n    releaseId: bytes32 = sha3(releaseConcat)\n    return releaseId\n\n\n@public\ndef getPackageName(packageId: bytes32) -> bytes32:\n    assert self.packages[packageId].exists\n    return self.packages[packageId].name\n\n\n@public\ndef getPackageData(packageName: bytes32) -> (bytes32, bytes32, int128):\n    packageId: bytes32 = sha3(packageName)\n    assert self.packages[packageId].exists\n    return (\n        self.packages[packageId].name,\n        packageId,\n        self.packages[packageId].releaseCount,\n    )\n\n\n@public\ndef numPackageIds() -> int128:\n    return self.packageCount\n\n\n@public\ndef numReleaseIds(packageName: bytes32) -> int128:\n    packageId: bytes32 = sha3(packageName)\n    assert self.packages[packageId].exists\n    return self.packages[packageId].releaseCount\n\n\n@public\ndef getAllPackageIds(\n    offset: uint256, length: uint256\n) -> (bytes32, bytes32, bytes32, bytes32, bytes32):\n    offset_int: int128 = convert(offset, int128)\n    length_int: int128 = convert(length, int128)\n    assert length_int == 5\n    assert offset_int <= self.packageCount\n    ids: bytes32[5]\n    for idx in range(offset_int, offset_int + 4):\n        if idx <= self.packageCount:\n            packageId: bytes32 = self.packageIds[idx]\n            ids[(idx - offset_int)] = packageId\n        else:\n            ids[(idx - offset_int)] = self.EMPTY_BYTES\n    return (ids[0], ids[1], ids[2], ids[3], ids[4])\n\n\n@private\ndef generatePackageReleaseId(packageId: bytes32, count: int128) -> bytes32:\n    countBytes: bytes32 = convert(count, bytes32)\n    packageReleaseTag: bytes[64] = concat(packageId, countBytes)\n    packageReleaseId: bytes32 = sha3(packageReleaseTag)\n    return packageReleaseId\n\n\n@public\ndef getAllReleaseIds(\n    packageName: bytes32, offset: uint256, length: uint256\n) -> (bytes32, bytes32, bytes32, bytes32, bytes32):\n    offset_int: int128 = convert(offset, int128)\n    length_int: int128 = convert(length, int128)\n    assert length_int == 5\n    packageId: bytes32 = sha3(packageName)\n    assert self.packages[packageId].exists\n    assert offset_int <= self.packages[packageId].releaseCount\n    ids: bytes32[5]\n    for idx in range(offset_int, offset_int + 4):\n        if idx <= self.packages[packageId].releaseCount:\n            packageReleaseId: bytes32 = self.generatePackageReleaseId(\n                packageId, (idx + 1)\n            )\n            releaseId: bytes32 = self.packageReleaseIndex[packageReleaseId]\n            ids[(idx - offset_int)] = releaseId\n        else:\n            ids[(idx - offset_int)] = self.EMPTY_BYTES\n    return (ids[0], ids[1], ids[2], ids[3], ids[4])\n\n\n@public\ndef getReleaseData(releaseId: bytes32) -> (bytes32, bytes32, bytes[1000]):\n    assert self.releases[releaseId].exists\n    packageId: bytes32 = self.releases[releaseId].packageId\n    return (\n        self.packages[packageId].name,\n        self.releases[releaseId].version,\n        self.releases[releaseId].uri,\n    )\n\n\n@private\ndef cutRelease(\n    releaseId: bytes32,\n    packageId: bytes32,\n    version: bytes32,\n    uri: bytes[1000],\n    name: bytes32,\n):\n    self.releases[releaseId] = {\n        exists: True,\n        createdAt: block.timestamp,\n        packageId: packageId,\n        version: version,\n        uri: uri,\n    }\n    self.packages[packageId].releaseCount += 1\n    self.releaseIds[self.releaseCount] = releaseId\n    self.releaseCount += 1\n    packageReleaseId: bytes32 = self.generatePackageReleaseId(\n        packageId, self.packages[packageId].releaseCount\n    )\n    self.packageReleaseIndex[packageReleaseId] = releaseId\n    log.Release(name, version, uri)\n\n\n@public\ndef release(packageName: bytes32, version: bytes32, manifestURI: bytes[1000]) -> bytes32:\n    assert packageName != self.EMPTY_BYTES\n    assert version != self.EMPTY_BYTES\n    assert len(manifestURI) > 0\n    assert self.owner == msg.sender\n\n\n    packageId: bytes32 = sha3(packageName)\n    releaseId: bytes32 = self.generateReleaseId(packageName, version)\n\n    if self.packages[packageId].exists == True:\n        self.packages[packageId] = {\n            exists: True,\n            createdAt: self.packages[packageId].createdAt,\n            updatedAt: block.timestamp,\n            name: packageName,\n            releaseCount: self.packages[packageId].releaseCount,\n        }\n        assert self.releases[releaseId].exists == False\n        self.cutRelease(releaseId, packageId, version, manifestURI, packageName)\n        return releaseId\n    else:\n        self.packages[packageId] = {\n            exists: True,\n            createdAt: block.timestamp,\n            updatedAt: block.timestamp,\n            name: packageName,\n            releaseCount: 0,\n        }\n        self.packageIds[self.packageCount] = packageId\n        self.packageCount += 1\n        self.cutRelease(releaseId, packageId, version, manifestURI, packageName)\n        return releaseId\n"},"version":"1.0.0"}
