!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=9)}([function(module,exports){Array.prototype.every||(Array.prototype.every=function(t,e){var r,n;if(null==this)throw new TypeError("Array.prototype.every called on null or undefined");var o=Object(this),i=o.length>>>0;if("Function"!==t.__class__)throw new TypeError(t+" is not a function");for(r=arguments.length>1?e:void 0,n=0;n<i;){var a;if(n in o)if(a=o[n],!t.call(r,a,n,o))return!1;n++}return!0}),Array.prototype.filter||(Array.prototype.filter=function(t,e){if(null==this)throw new TypeError("Array.prototype.filter called on null or undefined");var r=Object(this),n=r.length>>>0;if("Function"!==t.__class__)throw new TypeError(t+" is not a function");for(var o=[],i=arguments.length>1?e:void 0,a=0;a<n;a++)if(a in r){var c=r[a];t.call(i,c,a,r)&&o.push(c)}return o}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){if(null==this)throw new TypeError("Array.prototype.forEach called on null or undefined");var r=Object(this),n=r.length>>>0;if("Function"!==t.__class__)throw new TypeError(t+" is not a function");for(var o=arguments.length>1?e:void 0,i=0;i<n;i++){var a;i in r&&(a=r[i],t.call(o,a,i,r))}}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){if(null==this)throw new TypeError("Array.prototype.indexOf called on null or undefined");var r,n=Object(this),o=n.length>>>0;if(0===o)return-1;var i=+e||0;if(Math.abs(i)===1/0&&(i=0),i>=o)return-1;for(r=Math.max(i>=0?i:o-Math.abs(i),0);r<o;){if(r in n&&n[r]===t)return r;r++}return-1}),Array.isArray||(Array.isArray=function(t){return null!=t&&"Array"===t.__class__}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(t,e){if(null==this)throw new TypeError("Array.prototype.lastIndexOf called on null or undefined");var r,n,o=Object(this),i=o.length>>>0;if(0===i)return-1;for(r=i-1,arguments.length>1&&((r=Number(arguments[1]))!=r?r=0:0!=r&&r!=1/0&&r!=-1/0&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),n=r>=0?Math.min(r,i-1):i-Math.abs(r);n>=0;n--)if(n in o&&o[n]===t)return n;return-1}),Array.prototype.map||(Array.prototype.map=function(t,e){var r,n;if(null==this)throw new TypeError("Array.prototype.map called on null or undefined");var o=Object(this),i=o.length>>>0;if("Function"!==t.__class__)throw new TypeError(t+" is not a function");r=arguments.length>1?e:void 0,n=new Array(i);for(var a=0;a<i;a++){var c,l;a in o&&(c=o[a],l=t.call(r,c,a,o),n[a]=l)}return n}),Array.prototype.reduce||(Array.prototype.reduce=function(t,e){if(null==this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("Function"!==t.__class__)throw new TypeError(t+" is not a function");var r,n=Object(this),o=n.length>>>0,i=0;if(arguments.length>1)r=e;else{for(;i<o&&!(i in n);)i++;if(i>=o)throw new TypeError("Reduce of empty array with no initial value");r=n[i++]}for(;i<o;i++)i in n&&(r=t(r,n[i],i,n));return r}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t,e){if(null==this)throw new TypeError("Array.prototype.reduceRight called on null or undefined");if("Function"!==t.__class__)throw new TypeError(t+" is not a function");var r,n=Object(this),o=(n.length>>>0)-1;if(arguments.length>1)r=e;else{for(;o>=0&&!(o in n);)o--;if(o<0)throw new TypeError("Reduce of empty array with no initial value");r=n[o--]}for(;o>=0;o--)o in n&&(r=t(r,n[o],o,n));return r}),Array.prototype.some||(Array.prototype.some=function(t,e){if(null==this)throw new TypeError("Array.prototype.some called on null or undefined");if("Function"!==t.__class__)throw new TypeError(t+" is not a function");for(var r=Object(this),n=r.length>>>0,o=arguments.length>1?e:void 0,i=0;i<n;i++)if(i in r&&t.call(o,r[i],i,r))return!0;return!1}),Function.prototype.bind||(Function.prototype.bind=function(t){if("Function"!==this.__class__)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),r=this,n=function(){},o=function(){return r.apply(this instanceof n?this:t,e.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(n.prototype=this.prototype),o.prototype=new n,o}),Object.create||(Object.create=function(){function t(){}var e=Object.prototype.hasOwnProperty;return function(r){if(Object(r)!==r&&null!==r)throw TypeError("Object prototype may only be an Object or null");t.prototype=r;var n=new t;if(t.prototype=null,arguments.length>1){var o=Object(arguments[1]);for(var i in o)if(e.call(o,i)){var a=o[i];if(Object(a)!==a)throw TypeError(i+"must be an object");if("get"in a||"set"in a)throw new TypeError("getters & setters can not be defined on this javascript engine");"value"in a&&(n[i]=o[i])}}return n}}()),Object.defineProperties||(Object.defineProperties=function(t,e){function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function n(t){if(Object(t)!==t)throw new TypeError("Descriptor can only be an Object.");var e={};if(r(t,"enumerable")&&(e.enumerable=!!t.enumerable),r(t,"configurable")&&(e.configurable=!!t.configurable),r(t,"value")&&(e.value=t.value),r(t,"writable")&&(e.writable=!!t.writable),r(t,"get"))throw new TypeError("getters & setters can not be defined on this javascript engine");if(r(t,"set"))throw new TypeError("getters & setters can not be defined on this javascript engine");return e}if(Object(t)!==t)throw new TypeError("Object.defineProperties can only be called on Objects.");if(Object(e)!==e)throw new TypeError("Properties can only be an Object.");var o=Object(e);for(propName in o)if(hasOwnProperty.call(o,propName)){var i=n(o[propName]);t[propName]=i.value}return t}),Object.defineProperty||(Object.defineProperty=function(t,e,r){if(Object(t)!==t)throw new TypeError("Object.defineProperty can only be called on Objects.");if(Object(r)!==r)throw new TypeError("Property description can only be an Object.");if("get"in r||"set"in r)throw new TypeError("getters & setters can not be defined on this javascript engine");return"value"in r&&(t[e]=r.value),t}),Object.freeze||(Object.freeze=function(t){if(Object(t)!==t)throw new TypeError("Object.freeze can only be called on Objects.");return t}),Object.getOwnPropertyDescriptor||(Object.getOwnPropertyDescriptor=function(t,e){if(Object(t)!==t)throw new TypeError("Object.getOwnPropertyDescriptor can only be called on Objects.");var r;if(!Object.prototype.hasOwnProperty.call(t,e))return r;(r={enumerable:Object.prototype.propertyIsEnumerable.call(t,e),configurable:!0}).value=t[e];var n=t.reflect.find(e).type;return r.writable=!("readonly"===n),r}),Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(t){if(Object(t)!==t)throw new TypeError("Object.getOwnPropertyNames can only be called on Objects.");var e=[],r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;for(var o in t)r.call(t,o)&&e.push(o);for(var i=t.reflect.properties,a=t.reflect.methods.concat(i),c=0;c<a.length;c++){o=a[c].name;r.call(t,o)&&!n.call(t,o)&&e.push(o)}return e}),Object.getPrototypeOf||(Object.getPrototypeOf=function(t){if(Object(t)!==t)throw new TypeError("Object.getPrototypeOf can only be called on Objects.");return t.__proto__}),Object.isExtensible||(Object.isExtensible=function(t){if(Object(t)!==t)throw new TypeError("Object.isExtensible can only be called on Objects.");return!0}),Object.isSealed||(Object.isSealed=function(t){if(Object(t)!==t)throw new TypeError("Object.isSealed can only be called on Objects.");return!1}),Object.isFrozen||(Object.isFrozen=function(t){if(Object(t)!==t)throw new TypeError("Object.isFrozen can only be called on Objects.");return!1}),Object.keys||(Object.keys=function(t){if(Object(t)!==t)throw new TypeError("Object.keys can only be called on Objects.");var e=Object.prototype.hasOwnProperty,r=[];for(var n in t)e.call(t,n)&&r.push(n);return r}),Object.preventExtensions||(Object.preventExtensions=function(t){if(Object(t)!==t)throw new TypeError("Object.preventExtensions can only be called on Objects.");return t}),Object.seal||(Object.seal=function(t){if(Object(t)!==t)throw new TypeError("Object.seal can only be called on Objects.");return t}),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return t<10?"0"+t:t}var cx,escapable,gap,indent,meta,rep;function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var r,n,o,i,a,c=gap,l=e[t];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(t)),"function"==typeof rep&&(l=rep.call(e,t,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(l)){for(i=l.length,r=0;r<i;r+=1)a[r]=str(r,l)||"null";return o=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+c+"]":"["+a.join(",")+"]",gap=c,o}if(rep&&"object"==typeof rep)for(i=rep.length,r=0;r<i;r+=1)"string"==typeof rep[r]&&(o=str(n=rep[r],l))&&a.push(quote(n)+(gap?": ":":")+o);else for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(o=str(n,l))&&a.push(quote(n)+(gap?": ":":")+o);return o=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+c+"}":"{"+a.join(",")+"}",gap=c,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),"function"!=typeof JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(t,e,r){var n;if(gap="",indent="","number"==typeof r)for(n=0;n<r;n+=1)indent+=" ";else"string"==typeof r&&(indent=r);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){var j;function walk(t,e){var r,n,o=t[e];if(o&&"object"==typeof o)for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(void 0!==(n=walk(o,r))?o[r]=n:delete o[r]);return reviver.call(t,e,o)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")})},,function(t,e,r){"use strict";e.__esModule=!0;var n=function(){return function(t,e){this.x=t,this.y=e}}();e.Coordinate=n;var o=function(){function t(t,e,r){this.anchor=t,this.width=e,this.height=r}return t.fromPageItem=function(e){return new t({x:e.position[0],y:e.position[1]},e.width,e.height)},t.fromPathPoint=function(e){return new t({x:e.anchor[0],y:e.anchor[1]},0,0)},t.prototype.getCenterCoordinate=function(){var t=this.anchor.x+this.width/2,e=this.anchor.y-this.height/2;return new n(t,e)},t.prototype.relativeTo=function(t){return function(t,e){var r,n=t.getCenterCoordinate(),o=e.getCenterCoordinate(),a=o.x-n.x,c=o.y-n.y,l=Math.abs(a)<(Math.abs(t.width)+Math.abs(e.width))/2,u=Math.abs(c)<(Math.abs(t.height)+Math.abs(e.height))/2;if(l&&u)r=0;else if(l&&!u)r=Math.abs(c)-(Math.abs(t.height)+Math.abs(e.height))/2;else if(!l&&u)r=Math.abs(a)-(Math.abs(t.width)+Math.abs(e.width))/2;else{var s=n.x>o.x?t.anchor.x-e.anchor.x-e.width:e.anchor.x-t.anchor.x-t.width,p=n.y>o.y?t.anchor.y-e.anchor.y-e.height:e.anchor.y-t.anchor.y-t.height;r=Math.sqrt(Math.pow(s,2)+Math.pow(p,2))}return new i(a,c,r)}(t,this)},t}();e.AbsolutePosition=o;var i=function(){return function(t,e,r){this.x=t,this.y=e,this.distance=r}}();e.RelativePosition=i;var a=function(){function t(t,e,r){if(void 0===r&&(r=!0),this.object=t,this.objectType=e||"unknown",-1!==t.typename.indexOf("Item")?this.position=o.fromPageItem(t):this.position=o.fromPathPoint(t),this.belongsTo=null,this.relativePosition=null,r){var n=l.getInstance();this.id=n.registerItem(this)}}return t.prototype.relativeTo=function(t){return this.position.relativeTo(t.position)},t.prototype.setBelongsTo=function(t,e){this.belongsTo=t,this.relativePosition=e||this.relativeTo(t)},t.prototype.toJSON=function(){return{objectType:this.objectType,id:this.id,belongsTo:this.belongsTo?this.belongsTo.id:null}},t}();e.IllustratorObject=a;var c=function(){function t(t,e){this.objectType="link",this.p1=t,this.p2=e}return t.prototype.toJSON=function(){return{objectType:"link",p1:this.p1.id,p2:this.p2.id}},t}();e.Link=c;var l=function(){function t(e){if(e!==t.getInstance)throw new Error("Invalid initialization");if(t._instance)throw new Error("IllustratorObjectContainer already initialized");this._container={}}return t.prototype.registerItem=function(t){var e,r=t.objectType;return this._container[r]?e=this._container[r].push(t)-1:(this._container[r]=new Array(t),e=0),e},t.prototype.getItem=function(t,e){return this._container[t][e]},t.prototype.listItem=function(){var t=new Array;for(var e in this._container)t=t.concat(this._container[e]);return t},t.getInstance=function(){return this._instance||(this._instance=new t(t.getInstance)),this._instance},t}();e.IllustratorObjectContainer=l},function(t,e,r){"use strict";e.__esModule=!0,e.writeToFile=function(t,e,r){r=r||"utf-8",e=e instanceof String?e:e.toString();var n=new File(t);n.encoding=r,n.open("w");var o=n.write(e);return n.close(),o}},,,,,,function(t,e,r){"use strict";e.__esModule=!0,r(0);var n=r(2),o=r(3);function i(t){for(var e=t.layers,r=new Array,i=new Array,a=0;a<e.length;a++){var c=e[a];switch(c.name){case"object":for(var l=0;l<c.pathItems.length;l++){var u=c.pathItems[l],s=new n.IllustratorObject(u,"object");r.push(s)}case"marker":for(l=0;l<c.rasterItems.length;l++){u=c.rasterItems[l];var p=new n.IllustratorObject(u,"marker");i.push(p)}default:continue}}if(0!=r.length&&0!=i.length){for(a=0;a<i.length;a++){p=i[a];var f=1/0;for(new Array,l=0;l<r.length;l++){s=r[l];var y=p.relativeTo(s);f>y.distance&&(f=y.distance,p.setBelongsTo(s,y))}}var h="Result\n";h+="Object:\n",h+=JSON.stringify(r,null,2)+"\n",h+="\n\nMarker:\n",h+=JSON.stringify(i,null,2)+"\n",alert(h);var b=t.path.path+"/"+t.path.name+"/"+t.name.replace(".ai",".json");o.writeToFile(b,JSON.stringify(r.concat(i),null,2))?alert("結果を"+b+"に出力しました"):alert("結果を"+b+"に出力できませんでした")}else{var O=0==r.length?"`object`":"`marker`";alert("No artwork found on"+O)}}e.main=i,i(app.activeDocument)}]);