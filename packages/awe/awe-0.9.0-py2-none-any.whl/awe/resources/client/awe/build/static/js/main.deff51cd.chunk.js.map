{"version":3,"sources":["components/Table.js","components/Grid.js","components/Text.js","components/Chart.js","Awe.js","components/index.js","App.js","Processor.js","store.js","index.js"],"names":["Table","table","this","props","_table$data","data","headers","rows","columns","map","header","title","dataIndex","key","dataSource","row","id","pairs","e","i","result","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","_ref3","value","_ref2","Object","slicedToArray","err","return","react_default","a","createElement","Table_default","assign","Component","Grid","_this$props$grid","grid","children","childColumns","singleColumnSpan","currentRow","currentRowSpan","length","toString","childComponent","childColumnSpan","push","lib_grid","span","paddingBottom","gutter","style","Text","_this$props$text","text","lines","split","line","callback","chart","userOptions","callbackOptions","movingWindow","fn","init","xAxis","dataMax","getExtremes","range","minRange","setExtremes","Highcharts","addEvent","Chart","_chart$data","options","charts","_arr","values","_i","config","series","type","defaultOptions","height","plotOptions","defineProperty","marker","enabled","symbol","time","useUTC","yAxis","tickPixelInterval","finalOptions","keys","lodash","defaultsDeep","highcharts_react_min_default","highcharts","instance","Awe","_ref","_this","processor","host","port","classCallCheck","finishedInitialFetch","pendingActions","ws","WebSocket","concat","onmessage","onMessage","bind","onerror","error","console","fetchInitialState","then","initialState","processInitialState","version","pendingAction","dispatch","functionId","kwargs","sendMessage","variableId","message","send","JSON","stringify","action","parse","_ref2$host","_ref2$port","fetch","json","nativeComponents","div","connectedComponents","components_Text","Card","card","card_default","components_Table","components_Grid","Divider","divider","divider_default","Collapse","collapse","collapse_default","Panel","panel","Tab","tab","tabs_default","TabPane","Tabs","tabs","Button","button","button_default","onClick","call","Input","input","input_default","variables","onChange","updateVariable","target","onPressEnter","enter","components_Chart","components","processElement","element","elementType","App","_this$props$state$toJ","state","toJS","elements","sortedElements","sort","b","index","rootElement","parentId","connect","Processor","store","processTitle","processStyle","variable","processVariable","child","document","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","fromJS","updateElementActions","append","list","prepend","unshift","addChartData","existingData","withMutations","get","seriesPath","has","set","existingSeries","getIn","newSeriesObject","existingSeriesObject","singleSeries","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","entries","newData","newExistingData","setIn","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_loop","updateIn","_iterator5","prefix","reducers","setStyle","_ref4","newElement","_ref5","_ref5$props","newVariable","_ref6","updateElement","_ref8","updateData","_updateData$path","path","fullPath","_ref7","_ref7$version","internal","currentVersion","update","mergeIn","createStore","arguments","actionReducer","start","ReactDOM","render","es","src_App_0","getElementById"],"mappings":"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","file":"static/js/main.deff51cd.chunk.js","sourcesContent":["import React, {Component} from 'react';\nimport AntTable from 'antd/lib/table/Table';\n\nclass Table extends Component {\n  render() {\n    const table = this.props.table;\n    const {headers, rows} = table.data;\n    const columns = headers.map((header) => ({title: header, dataIndex: header, key: header}));\n    const dataSource = rows.map((row) => {\n      const {data, id} = row;\n      const pairs = data.map((e, i) => [headers[i], e]);\n      const result = {key: id};\n      for (let [key, value] of pairs) {\n        result[key] = value;\n      }\n      return result;\n    });\n    return (\n      <AntTable\n        {...table.props}\n        dataSource={dataSource}\n        columns={columns}\n      />\n    );\n  }\n}\n\nexport default Table;\n","import React, {Component} from 'react';\nimport {Row, Col} from 'antd/lib/grid';\n\nclass Grid extends Component {\n  render() {\n    const {props, data, children} = this.props.grid;\n    delete props.key;\n    const {columns, childColumns} = data;\n    const singleColumnSpan = 24 / columns;\n    const rows = [];\n    let currentRow = [];\n    let currentRowSpan = 0;\n    for (let i = 0; i < children.length; i++) {\n      const key = i.toString();\n      const childComponent = children[i];\n      const childColumnSpan = singleColumnSpan * childColumns[i];\n      if (currentRowSpan + childColumnSpan > 24) {\n        rows.push(currentRow);\n        currentRowSpan = 0;\n        currentRow = [];\n      }\n      currentRowSpan += childColumnSpan;\n      currentRow.push(\n        <Col\n          {...props}\n          key={key}\n          span={childColumnSpan}>\n          {childComponent}\n        </Col>\n      )\n    }\n    if (currentRow.length > 0) {\n      rows.push(currentRow);\n    }\n    const paddingBottom = props.gutter || 0;\n    return rows.map((row, i) => (\n      <Row\n        {...props}\n        key={i.toString()}\n        style={{paddingBottom}}>\n        {row}\n      </Row>\n    ));\n  }\n}\n\nexport default Grid;\n","import React, {Component} from 'react';\n\nclass Text extends Component {\n  render() {\n    const {data, props} = this.props.text;\n    const {text} = data;\n    const lines = (text || '').split('\\n');\n    return (\n      <div>\n        {lines.map((line, i) => {\n          if (line) {\n            return <div {...props} key={i.toString()}>{line}</div>;\n          } else {\n            return <br key={i.toString()}/>\n          }\n        })}\n      </div>\n    );\n  }\n}\n\nexport default Text;\n","import lodash from 'lodash';\nimport React, {Component} from 'react';\nimport Highcharts from 'highcharts';\nimport HighchartsReact from 'highcharts-react-official';\n\n\nfunction callback(chart) {\n  const {movingWindow} = chart.userOptions.callbackOptions;\n  if (movingWindow) {\n    const fn = (e, init) => {\n      const xAxis = chart.xAxis[0];\n      const currentExtremes = xAxis.getExtremes();\n      const {dataMax} = currentExtremes;\n      const range = xAxis.minRange;\n      xAxis.setExtremes(dataMax - range, dataMax + 8 * 1000, init);\n    };\n    fn(null, true);\n    Highcharts.addEvent(chart, 'update', fn);\n  }\n}\n\n\nclass Chart extends Component {\n  render() {\n    const {chart} = this.props;\n    const {data, options, movingWindow} = chart.data;\n    const charts = [];\n    for (const config of Object.values(data)) {\n      const {series, title, type} = config;\n      const defaultOptions = {\n        callbackOptions: {\n          movingWindow\n        },\n        chart: {\n          type,\n          height: 300\n        },\n        title: {text: title},\n        plotOptions: {\n          [type]: {\n            marker: {\n              enabled: false,\n              symbol: 'circle'\n            }\n          }\n        },\n        time: {\n          useUTC: false,\n        },\n        xAxis: {\n          minRange: movingWindow ? movingWindow * 1000 : undefined,\n          type: 'datetime',\n        },\n        yAxis: {\n          title: {text: ''},\n          tickPixelInterval: 36\n        }\n      };\n      let finalOptions;\n      if (Object.keys(options || {}).length > 0) {\n        lodash.defaultsDeep(options, [defaultOptions]);\n        finalOptions = options;\n      } else {\n        finalOptions = defaultOptions;\n      }\n      finalOptions.series = series;\n      charts.push(finalOptions);\n    }\n\n    return (\n      <div>\n        {charts.map((chart, i) => (\n          <HighchartsReact\n            callback={callback}\n            key={i.toString()}\n            highcharts={Highcharts}\n            options={chart}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default Chart;\n","let instance = null;\n\nclass Awe {\n  constructor({processor, host, port}) {\n    this.processor = processor;\n    this.finishedInitialFetch = false;\n    this.pendingActions = [];\n    this.ws = new WebSocket(`ws://${host}:${port}`);\n    this.ws.onmessage = this.onMessage.bind(this);\n    this.ws.onerror = (error) => console.error('ws error', error);\n    Awe.fetchInitialState().then((initialState) => {\n      this.processor.processInitialState(initialState);\n      const {version} = initialState;\n      for (const pendingAction of this.pendingActions) {\n        if (pendingAction.version > version) {\n          this.processor.dispatch(pendingAction);\n        }\n      }\n      this.pendingActions = [];\n      this.finishedInitialFetch = true;\n    });\n  }\n\n  static start({processor, host = '127.0.0.1', port = 9000}) {\n    instance = new Awe({processor, host, port});\n    return instance;\n  }\n\n  static async fetchInitialState() {\n    return await (await fetch('/initial-state')).json();\n  }\n\n  call(functionId, kwargs) {\n    this.sendMessage({type: 'call', functionId, kwargs})\n  }\n\n  updateVariable(variableId, value) {\n    this.sendMessage({type: 'updateVariable', variableId, value})\n  }\n\n  sendMessage(message) {\n    this.ws.send(JSON.stringify(message));\n  }\n\n  onMessage(message) {\n    const action = JSON.parse(message.data);\n    if (!this.finishedInitialFetch) {\n      this.pendingActions.push(action);\n    } else {\n      this.processor.dispatch(action);\n    }\n  };\n\n}\n\nexport default Awe;\nexport {instance};\n","import React from 'react';\nimport Card from 'antd/lib/card';\nimport Divider from 'antd/lib/divider';\nimport Tabs from 'antd/lib/tabs';\nimport Button from 'antd/lib/button';\nimport Input from 'antd/lib/input';\nimport Collapse from 'antd/lib/collapse';\nimport Table from './Table';\nimport Grid from './Grid';\nimport Text from './Text'\nimport Chart from './Chart';\nimport {instance} from '../Awe';\n\nconst nativeComponents = {\n  div: div => (\n    <div\n      {...div.props}>\n      {div.children}\n    </div>\n  )\n};\n\nconst connectedComponents = {\n  Text: text => (\n    <Text\n      {...text.props}\n      text={text}\n    />\n  ),\n  Card: card => (\n    <Card\n      {...card.props}>\n      {card.children.length > 0 ? card.children : card.data.text}\n    </Card>\n  ),\n  Table: table => (\n    <Table\n      {...table.props}\n      table={table}\n    />\n  ),\n  Grid: grid => (\n    <Grid\n      {...grid.props}\n      grid={grid}\n    />\n  ),\n  Divider: divider => (\n    <Divider\n      {...divider.props}\n    />\n  ),\n  Collapse: collapse => (\n    <Collapse\n      {...collapse.props}>\n      {collapse.children}\n    </Collapse>\n  ),\n  Panel: panel => (\n    <Collapse.Panel\n      {...panel.props}>\n      {panel.children}\n    </Collapse.Panel>\n  ),\n  Tab: tab => (\n    <Tabs.TabPane\n      {...tab.props}>\n      {tab.children}\n    </Tabs.TabPane>\n  ),\n  Tabs: tabs => (\n    <Tabs\n      {...tabs.props}>\n      {tabs.children || <div/>}\n    </Tabs>\n  ),\n  Button: button => (\n    <Button\n      {...button.props}\n      onClick={() => instance.call(button.id)}>\n      {button.data.text}\n    </Button>\n  ),\n  Input: input => (\n    <Input\n      {...input.props}\n      value={input.variables[input.id].value}\n      onChange={(e) => input.updateVariable(input.id, e.target.value)}\n      onPressEnter={() => input.data.enter ? instance.call(input.id) : null}\n    />\n  ),\n  Chart: chart => (\n    <Chart\n      {...chart.props}\n      chart={chart}\n    />\n  )\n};\n\nconst components = Object.assign({}, nativeComponents, connectedComponents);\nexport default components;\n","import {Component} from 'react';\nimport {connect} from 'react-redux';\nimport components from './components';\nimport {instance} from './Awe';\nimport './App.css';\n\nfunction processElement(element) {\n  element.children = element.children.map(processElement);\n  return components[element.elementType](element);\n}\n\nclass App extends Component {\n  render() {\n    const {elements, variables, style} = this.props.state.toJS();\n    const {updateVariable} = this.props;\n    const sortedElements = Object.values(elements).sort((a, b) => a.index - b.index);\n    const rootElement = {elementType: 'div', children: [], props: {style}};\n    for (const element of sortedElements) {\n      element.variables = variables;\n      element.updateVariable = updateVariable;\n      const parentElement = elements[element.parentId] || rootElement;\n      parentElement.children.push(element);\n    }\n    return processElement(rootElement);\n  }\n}\n\nexport default connect(\n  state => ({state}),\n  dispatch => ({\n    updateVariable: (id, value) => {\n      dispatch({type: 'updateVariable', id, value});\n      instance.updateVariable(id, value);\n    }\n  })\n)(App);\n","class Processor {\n  constructor(store) {\n    this.store = store;\n  }\n\n  processInitialState(initialState) {\n    const {variables, children, style, title} = initialState;\n    this.processTitle(title);\n    this.processStyle(style);\n    for (const variable of Object.values(variables)) {\n      this.processVariable(variable);\n    }\n    for (const child of children) {\n      this.processElement(child);\n    }\n  }\n\n  processTitle(title) {\n    document.title = title;\n  }\n\n  processStyle(style) {\n    this.dispatch({type: 'setStyle', style})\n  }\n\n  processVariable(variable) {\n    const {id, value, version} = variable;\n    this.dispatch({type: 'newVariable', id, value, version})\n  }\n\n  processElement(element) {\n    const {children, data, elementType, index, id, parentId, props} = element;\n    this.dispatch({type: 'newElement', id, elementType, index, data, parentId, props});\n    if (children) {\n      for (const child of children) {\n        child.parentId = id;\n        this.processElement(child);\n      }\n    }\n  }\n\n  dispatch(action) {\n    this.store.dispatch(action);\n  }\n}\n\nexport default Processor;\n","import {fromJS} from 'immutable';\nimport {createStore} from 'redux';\n\nconst initialState = fromJS({elements: {}, variables: {}, style: {}});\n\nfunction addChartData(data) {\n  return (existingData) => {\n    return existingData.withMutations(map => {\n      for (const config of data.values()) {\n        const title = config.get('title');\n        const seriesPath = [title, 'series'];\n        if (!map.has(title)) {\n          map = map.set(title, fromJS({\n            title,\n            type: config.get('type'),\n            series: [],\n          }))\n        }\n        let existingSeries = map.getIn(seriesPath);\n        const newSeriesObject = {};\n        const existingSeriesObject = {};\n        for (const singleSeries of existingSeries.values()) {\n          existingSeriesObject[singleSeries.get('name')] = true;\n        }\n        for (const singleSeries of config.get('series').values()) {\n          if (existingSeriesObject[singleSeries.get('name')]) {\n            newSeriesObject[singleSeries.get('name')] = singleSeries.get('data');\n          }\n        }\n        for (const [index, singleSeries] of existingSeries.entries()) {\n          if (newSeriesObject[singleSeries.get('name')]) {\n            const existingData = singleSeries.get('data');\n            const newData = newSeriesObject[singleSeries.get('name')];\n            const newExistingData = existingData.concat(newData);\n            existingSeries = existingSeries.set(index, singleSeries.set('data', newExistingData));\n            map = map.setIn(seriesPath, existingSeries);\n          }\n        }\n        for (const singleSeries of config.get('series').values()) {\n          if (!existingSeriesObject[singleSeries.get('name')]) {\n            map = map.updateIn(seriesPath, list => list.push(fromJS(singleSeries)))\n          }\n        }\n      }\n      return map;\n    });\n  };\n}\n\n\nconst updateElementActions = {\n  append: data => list => list.push(data),\n  prepend: data => list => list.unshift(data),\n  addChartData\n};\n\nfunction setStyle(state, {style}) {\n  return state.set('style', style);\n}\n\nfunction newElement(state, {id, index, data, parentId, elementType, props = {}}) {\n  return state.setIn(['elements', id], fromJS({index, id, parentId, data, elementType, props, children: []}));\n}\n\nfunction newVariable(state, {id, value, version}) {\n  return state.setIn(['variables', id], fromJS({id, value, version}));\n}\n\nfunction updateVariable(state, {id, value, version = -1}) {\n  const internal = version === -1;\n  const currentVersion = state.getIn(['variables', id, 'version']);\n  if (!internal && currentVersion >= version) {\n    return state;\n  }\n  const update = {value};\n  if (!internal) {\n    update.version = version;\n  }\n  return state.mergeIn(['variables', id], fromJS(update));\n}\n\nfunction updatePath(prefix) {\n  return (state, {id, updateData}) => {\n    const {path = [], action, data} = updateData;\n    const fullPath = [prefix, id].concat(path);\n    if (action === 'set') {\n      return state.setIn(fullPath, fromJS(data));\n    } else {\n      return state.updateIn(fullPath, updateElementActions[action](fromJS(data)));\n    }\n  }\n}\n\nconst reducers = {\n  setStyle,\n  newElement,\n  newVariable,\n  updateElement: updatePath('elements'),\n  updateVariable\n};\n\nfunction reducer(state = initialState, action) {\n  const actionReducer = reducers[action.type];\n  return actionReducer ? actionReducer(state, action) : state;\n}\n\nexport default createStore(reducer);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from 'react-redux';\nimport App from './App';\nimport Awe from './Awe';\nimport Processor from './Processor';\nimport store from './store';\n\nAwe.start({processor: new Processor(store)});\nReactDOM.render(\n  <Provider store={store}>\n    <App/>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}