(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{167:function(e,t,n){e.exports=n(391)},387:function(e,t,n){},391:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),i=n(9),o=n.n(i),s=n(75),l=n(15),c=n(16),u=n(25),p=n(24),d=n(26),v=n(164),f=n.n(v),h=n(165),y=n.n(h),b=n(74),m=n.n(b),g=n(71),O=n.n(g),j=n(166),w=n.n(j),x=n(108),k=n.n(x),E=n(76),I=n(155),S=n.n(I),C=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.table,t=e.data,n=t.headers,r=t.rows,i=n.map(function(e){return{title:e,dataIndex:e,key:e}}),o=r.map(function(e){var t=e.data,r=e.id,a=t.map(function(e,t){return[n[t],e]}),i={key:r},o=!0,s=!1,l=void 0;try{for(var c,u=a[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var p=c.value,d=Object(E.a)(p,2),v=d[0],f=d[1];i[v]=f}}catch(h){s=!0,l=h}finally{try{o||null==u.return||u.return()}finally{if(s)throw l}}return i});return a.a.createElement(S.a,Object.assign({},e.props,{dataSource:o,columns:i}))}}]),t}(r.Component),T=n(57),V=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.grid,t=e.props,n=e.data,r=e.children;delete t.key;for(var i=n.columns,o=n.childColumns,s=24/i,l=[],c=[],u=0,p=0;p<r.length;p++){var d=p.toString(),v=r[p],f=s*o[p];u+f>24&&(l.push(c),u=0,c=[]),u+=f,c.push(a.a.createElement(T.Col,Object.assign({},t,{key:d,span:f}),v))}c.length>0&&l.push(c);var h=t.gutter||0;return l.map(function(e,n){return a.a.createElement(T.Row,Object.assign({},t,{key:n.toString(),style:{paddingBottom:h}}),e)})}}]),t}(r.Component),A=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.text,t=e.data,n=e.props,r=(t.text||"").split("\n");return a.a.createElement("div",null,r.map(function(e,t){return e?a.a.createElement("div",Object.assign({},n,{key:t.toString()}),e):a.a.createElement("br",{key:t.toString()})}))}}]),t}(r.Component),M=n(160),J=n(161),P=n.n(J),D=n(106),W=n.n(D),B=n(162),F=n.n(B);function R(e){if(e.userOptions.callbackOptions.movingWindow){var t=function(t,n){var r=e.xAxis[0],a=r.getExtremes().dataMax,i=r.minRange;r.setExtremes(a-i,a+8e3,n)};t(0,!0),W.a.addEvent(e,"update",t)}}var N=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){for(var e=this.props.chart.data,t=e.data,n=e.options,r=e.movingWindow,i=[],o=Object.values(t),s=0;s<o.length;s++){var l=o[s],c=l.series,u=l.title,p=l.type,d={callbackOptions:{movingWindow:r},chart:{type:p,height:300},title:{text:u},plotOptions:Object(M.a)({},p,{marker:{enabled:!1,symbol:"circle"}}),time:{useUTC:!1},xAxis:{minRange:r?1e3*r:void 0,type:"datetime"},yAxis:{title:{text:""},tickPixelInterval:36}},v=void 0;Object.keys(n||{}).length>0?(P.a.defaultsDeep(n,[d]),v=n):v=d,v.series=c,i.push(v)}return a.a.createElement("div",null,i.map(function(e,t){return a.a.createElement(F.a,{callback:R,key:t.toString(),highcharts:W.a,options:e})}))}}]),t}(r.Component),G=n(107),U=n.n(G),q=n(163),z=null,H=function(){function e(t){var n=this,r=t.processor,a=t.host,i=t.port;Object(l.a)(this,e),this.processor=r,this.finishedInitialFetch=!1,this.pendingActions=[],this.ws=new WebSocket("ws://".concat(a,":").concat(i)),this.ws.onmessage=this.onMessage.bind(this),this.ws.onerror=function(e){return console.error("ws error",e)},e.fetchInitialState().then(function(e){n.processor.processInitialState(e);var t=e.version,r=!0,a=!1,i=void 0;try{for(var o,s=n.pendingActions[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;l.version>t&&n.processor.dispatch(l)}}catch(c){a=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}n.pendingActions=[],n.finishedInitialFetch=!0})}return Object(c.a)(e,[{key:"call",value:function(e,t){this.sendMessage({type:"call",functionId:e,kwargs:t})}},{key:"updateVariable",value:function(e,t){this.sendMessage({type:"updateVariable",variableId:e,value:t})}},{key:"sendMessage",value:function(e){this.ws.send(JSON.stringify(e))}},{key:"onMessage",value:function(e){var t=JSON.parse(e.data);this.finishedInitialFetch?this.processor.dispatch(t):this.pendingActions.push(t)}}],[{key:"start",value:function(t){var n=t.processor,r=t.host,a=void 0===r?"127.0.0.1":r,i=t.port;return z=new e({processor:n,host:a,port:void 0===i?9e3:i})}},{key:"fetchInitialState",value:function(){var e=Object(q.a)(U.a.mark(function e(){return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/initial-state");case 2:return e.next=4,e.sent.json();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),K={div:function(e){return a.a.createElement("div",e.props,e.children)}},L={Text:function(e){return a.a.createElement(A,Object.assign({},e.props,{text:e}))},Card:function(e){return a.a.createElement(f.a,e.props,e.children.length>0?e.children:e.data.text)},Table:function(e){return a.a.createElement(C,Object.assign({},e.props,{table:e}))},Grid:function(e){return a.a.createElement(V,Object.assign({},e.props,{grid:e}))},Divider:function(e){return a.a.createElement(y.a,e.props)},Collapse:function(e){return a.a.createElement(k.a,e.props,e.children)},Panel:function(e){return a.a.createElement(k.a.Panel,e.props,e.children)},Tab:function(e){return a.a.createElement(m.a.TabPane,e.props,e.children)},Tabs:function(e){return a.a.createElement(m.a,e.props,e.children||a.a.createElement("div",null))},Button:function(e){return a.a.createElement(O.a,Object.assign({},e.props,{onClick:function(){return z.call(e.id)}}),e.data.text)},Input:function(e){return a.a.createElement(w.a,Object.assign({},e.props,{value:e.variables[e.id].value,onChange:function(t){return e.updateVariable(e.id,t.target.value)},onPressEnter:function(){return e.data.enter?z.call(e.id):null}}))},Chart:function(e){return a.a.createElement(N,Object.assign({},e.props,{chart:e}))}},Q=Object.assign({},K,L);n(387);function X(e){return e.children=e.children.map(X),Q[e.elementType](e)}var Y=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.state.toJS(),t=e.elements,n=e.variables,r=e.style,a=this.props.updateVariable,i=Object.values(t).sort(function(e,t){return e.index-t.index}),o={elementType:"div",children:[],props:{style:r}},s=!0,l=!1,c=void 0;try{for(var u,p=i[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){var d=u.value;d.variables=n,d.updateVariable=a,(t[d.parentId]||o).children.push(d)}}catch(v){l=!0,c=v}finally{try{s||null==p.return||p.return()}finally{if(l)throw c}}return X(o)}}]),t}(r.Component),Z=Object(s.b)(function(e){return{state:e}},function(e){return{updateVariable:function(t,n){e({type:"updateVariable",id:t,value:n}),z.updateVariable(t,n)}}})(Y),$=function(){function e(t){Object(l.a)(this,e),this.store=t}return Object(c.a)(e,[{key:"processInitialState",value:function(e){var t=e.variables,n=e.children,r=e.style,a=e.title;this.processTitle(a),this.processStyle(r);for(var i=Object.values(t),o=0;o<i.length;o++){var s=i[o];this.processVariable(s)}var l=!0,c=!1,u=void 0;try{for(var p,d=n[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var v=p.value;this.processElement(v)}}catch(f){c=!0,u=f}finally{try{l||null==d.return||d.return()}finally{if(c)throw u}}}},{key:"processTitle",value:function(e){document.title=e}},{key:"processStyle",value:function(e){this.dispatch({type:"setStyle",style:e})}},{key:"processVariable",value:function(e){var t=e.id,n=e.value,r=e.version;this.dispatch({type:"newVariable",id:t,value:n,version:r})}},{key:"processElement",value:function(e){var t=e.children,n=e.data,r=e.elementType,a=e.index,i=e.id,o=e.parentId,s=e.props;if(this.dispatch({type:"newElement",id:i,elementType:r,index:a,data:n,parentId:o,props:s}),t){var l=!0,c=!1,u=void 0;try{for(var p,d=t[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var v=p.value;v.parentId=i,this.processElement(v)}}catch(f){c=!0,u=f}finally{try{l||null==d.return||d.return()}finally{if(c)throw u}}}}},{key:"dispatch",value:function(e){this.store.dispatch(e)}}]),e}(),_=n(31),ee=n(72),te=Object(_.a)({elements:{},variables:{},style:{}});var ne={append:function(e){return function(t){return t.push(e)}},prepend:function(e){return function(t){return t.unshift(e)}},addChartData:function(e){return function(t){return t.withMutations(function(t){var n=!0,r=!1,a=void 0;try{for(var i,o=e.values()[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value,l=s.get("title"),c=[l,"series"];t.has(l)||(t=t.set(l,Object(_.a)({title:l,type:s.get("type"),series:[]})));var u=t.getIn(c),p={},d={},v=!0,f=!1,h=void 0;try{for(var y,b=u.values()[Symbol.iterator]();!(v=(y=b.next()).done);v=!0){var m=y.value;d[m.get("name")]=!0}}catch(z){f=!0,h=z}finally{try{v||null==b.return||b.return()}finally{if(f)throw h}}var g=!0,O=!1,j=void 0;try{for(var w,x=s.get("series").values()[Symbol.iterator]();!(g=(w=x.next()).done);g=!0){var k=w.value;d[k.get("name")]&&(p[k.get("name")]=k.get("data"))}}catch(z){O=!0,j=z}finally{try{g||null==x.return||x.return()}finally{if(O)throw j}}var I=!0,S=!1,C=void 0;try{for(var T,V=u.entries()[Symbol.iterator]();!(I=(T=V.next()).done);I=!0){var A=T.value,M=Object(E.a)(A,2),J=M[0],P=M[1];if(p[P.get("name")]){var D=P.get("data"),W=p[P.get("name")],B=D.concat(W);u=u.set(J,P.set("data",B)),t=t.setIn(c,u)}}}catch(z){S=!0,C=z}finally{try{I||null==V.return||V.return()}finally{if(S)throw C}}var F=!0,R=!1,N=void 0;try{for(var G,U=function(){var e=G.value;d[e.get("name")]||(t=t.updateIn(c,function(t){return t.push(Object(_.a)(e))}))},q=s.get("series").values()[Symbol.iterator]();!(F=(G=q.next()).done);F=!0)U()}catch(z){R=!0,N=z}finally{try{F||null==q.return||q.return()}finally{if(R)throw N}}}}catch(z){r=!0,a=z}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return t})}}};var re,ae={setStyle:function(e,t){var n=t.style;return e.set("style",n)},newElement:function(e,t){var n=t.id,r=t.index,a=t.data,i=t.parentId,o=t.elementType,s=t.props,l=void 0===s?{}:s;return e.setIn(["elements",n],Object(_.a)({index:r,id:n,parentId:i,data:a,elementType:o,props:l,children:[]}))},newVariable:function(e,t){var n=t.id,r=t.value,a=t.version;return e.setIn(["variables",n],Object(_.a)({id:n,value:r,version:a}))},updateElement:(re="elements",function(e,t){var n=t.id,r=t.updateData,a=r.path,i=void 0===a?[]:a,o=r.action,s=r.data,l=[re,n].concat(i);return"set"===o?e.setIn(l,Object(_.a)(s)):e.updateIn(l,ne[o](Object(_.a)(s)))}),updateVariable:function(e,t){var n=t.id,r=t.value,a=t.version,i=void 0===a?-1:a,o=-1===i,s=e.getIn(["variables",n,"version"]);if(!o&&s>=i)return e;var l={value:r};return o||(l.version=i),e.mergeIn(["variables",n],Object(_.a)(l))}};var ie=Object(ee.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0,n=ae[t.type];return n?n(e,t):e});H.start({processor:new $(ie)}),o.a.render(a.a.createElement(s.a,{store:ie},a.a.createElement(Z,null)),document.getElementById("root"))}},[[167,2,1]]]);
//# sourceMappingURL=main.deff51cd.chunk.js.map