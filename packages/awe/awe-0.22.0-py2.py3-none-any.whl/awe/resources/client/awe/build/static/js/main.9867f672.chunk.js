(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{181:function(t,e,r){t.exports=r(409)},405:function(t,e,r){},409:function(t,e,r){"use strict";r.r(e);var n=r(1),a=r.n(n),i=r(7),o=r.n(i),l=r(23),s=r(12),c=r(13),u=r(16),p=r(15),d=r(17),f=r(24),h=r(166),v=r(176),b=r.n(v),y=r(177),O=r.n(y),m=r(86),j=r.n(m),g=r(28),x=r.n(g),E=r(178),k=r.n(E),I=r(118),w=r.n(I),C=r(18),S=r.n(C),R=r(111),L=r.n(R),V=function(t){function e(){return Object(s.a)(this,e),Object(u.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this.props.table,e=t.data,r=e.headers,n=e.rows,i=r.map(function(t){return{title:t,dataIndex:t,key:t}}),o=n.map(function(t){var e=t.data,n=t.id,a=e.map(function(t,e){return[r[e],t]}),i={key:n},o=!0,l=!1,s=void 0;try{for(var c,u=a[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var p=c.value,d=Object(f.a)(p,2),h=d[0],v=d[1];i[h]=v}}catch(b){l=!0,s=b}finally{try{o||null==u.return||u.return()}finally{if(l)throw s}}return i});return a.a.createElement(L.a,Object.assign({},t.props,{dataSource:o,columns:i}))}}]),e}(n.Component),T=function(t){function e(){return Object(s.a)(this,e),Object(u.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this.props.inline,e=t.data,r=t.props,n=t.children;delete r.key;var i=e.text;return a.a.createElement("span",r,n.length>0?n:i)}}]),e}(n.Component),A=r(63),M=function(t){function e(){return Object(s.a)(this,e),Object(u.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this.props.grid,e=t.props,r=t.data,n=t.children;delete e.key;for(var i=r.columns,o=r.childColumns,l=24/i,s=[],c=[],u=0,p=0;p<n.length;p++){var d=p.toString(),f=n[p],h=l*o[p];u+h>24&&(s.push(c),u=0,c=[]),u+=h,c.push(a.a.createElement(A.Col,Object.assign({},e,{key:d,span:h}),f))}c.length>0&&s.push(c);var v=e.gutter||0;return s.map(function(t,r){return a.a.createElement(A.Row,Object.assign({},e,{key:r.toString(),style:{paddingBottom:v}}),t)})}}]),e}(n.Component),J=function(t){function e(){return Object(s.a)(this,e),Object(u.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this.props.text,e=t.data,r=t.props,n=e.text;if(!n)return delete r.key,a.a.createElement("br",r);var i=(n||"").split("\n");return a.a.createElement("div",null,i.map(function(t,e){return t?a.a.createElement("div",Object.assign({},r,{key:e.toString()}),t):a.a.createElement("br",Object.assign({},r,{key:e.toString()}))}))}}]),e}(n.Component),P=r(85),D=r(173),N=r.n(D),W=r(117),B=r.n(W),F=r(174),z=r.n(F);function G(t){if(t.userOptions.callbackOptions.movingWindow){var e=function(e,r){var n=t.xAxis[0],a=n.getExtremes().dataMax,i=n.minRange;n.setExtremes(a-i,a+8e3,r)};e(0,!0),B.a.addEvent(t,"update",e)}}var H=function(t){function e(){return Object(s.a)(this,e),Object(u.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this.props.chart,e=t.data,r=e.data,n=e.options,i=e.movingWindow,o=t.props;delete o.key;for(var l=[],s=Object.values(r),c=0;c<s.length;c++){var u=s[c],p=u.series,d=u.title,f=u.type,h={callbackOptions:{movingWindow:i},chart:{type:f,height:300},title:{text:d},plotOptions:Object(P.a)({},f,{marker:{enabled:!1,symbol:"circle"}}),time:{useUTC:!1},xAxis:{minRange:i?1e3*i:void 0,type:"datetime"},yAxis:{title:{text:""},tickPixelInterval:36}},v=void 0;Object.keys(n||{}).length>0?(N.a.defaultsDeep(n,[h]),v=n):v=h,v.series=p,l.push(v)}return a.a.createElement("div",o,l.map(function(t,e){return a.a.createElement(z.a,{callback:G,key:e.toString(),highcharts:B.a,options:t})}))}}]),e}(n.Component),K=r(175),U=r(37),q=r.n(U),Q=r(65),X=null,Y=function(){function t(e){var r=this,n=e.store,a=e.host,i=e.port;Object(s.a)(this,t),this.store=n,this.finishedInitialFetch=!1,this.clientId=null,this.pendingActions=[],this.ws=new WebSocket("ws://".concat(a,":").concat(i)),this.ws.onmessage=this.onMessage.bind(this),this.ws.onerror=function(t){return console.error("ws error",t)},t.fetchInitialState().then(function(e){t.processInitialState(r.store,e);var n=e.version,a=!0,i=!1,o=void 0;try{for(var l,s=r.pendingActions[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var c=l.value;c.version>n&&r.store.dispatch(c)}}catch(u){i=!0,o=u}finally{try{a||null==s.return||s.return()}finally{if(i)throw o}}r.pendingActions=[],r.finishedInitialFetch=!0})}return Object(c.a)(t,[{key:"fetchExport",value:function(){var t=Object(Q.a)(q.a.mark(function t(){return q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/export");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"call",value:function(t,e){this.sendMessage({type:"call",functionId:t,kwargs:e,clientId:this.clientId})}},{key:"updateVariable",value:function(t,e){this.sendMessage({type:"updateVariable",variableId:t,value:e,clientId:this.clientId})}},{key:"sendMessage",value:function(t){this.ws.send(JSON.stringify(t))}},{key:"onMessage",value:function(t){var e=JSON.parse(t.data);"setClientId"===e.type?this.clientId=e.clientId:this.finishedInitialFetch?this.store.dispatch(e):this.pendingActions.push(e)}}],[{key:"start",value:function(e){var r=e.store,n=e.host,a=void 0===n?"127.0.0.1":n,i=e.port,o=void 0===i?9e3:i,l=e.initialState;if(l){var s=function(){return console.warn("This is not supported in offline mode")};X={call:s,updateVariable:s,fetchExport:s},setTimeout(function(){t.processInitialState(r,l)},0)}else X=new t({store:r,host:a,port:o});return X}},{key:"fetchInitialState",value:function(){var t=Object(Q.a)(q.a.mark(function t(){return q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/initial-state");case 2:return t.next=4,t.sent.json();case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"processInitialState",value:function(t,e){document.title=e.title,t.dispatch(Object(K.a)({type:"processInitialState"},e))}}]),t}(),Z={div:function(t){return a.a.createElement("div",t.props,t.children)}},$={Text:function(t){return a.a.createElement(J,Object.assign({},t.props,{text:t}))},Card:function(t){return a.a.createElement(b.a,t.props,t.children.length>0?t.children:t.data.text)},Table:function(t){return a.a.createElement(V,Object.assign({},t.props,{table:t}))},Grid:function(t){return a.a.createElement(M,Object.assign({},t.props,{grid:t}))},Divider:function(t){return a.a.createElement(O.a,t.props)},Collapse:function(t){return a.a.createElement(w.a,t.props,t.children)},Panel:function(t){return a.a.createElement(w.a.Panel,t.props,t.children)},Tab:function(t){return a.a.createElement(j.a.TabPane,t.props,t.children)},Tabs:function(t){return a.a.createElement(j.a,t.props,t.children||a.a.createElement("div",null))},Button:function(t){return a.a.createElement(x.a,Object.assign({},t.props,{onClick:function(){return X.call(t.id)}}),t.data.text)},Input:function(t){return a.a.createElement(k.a,Object.assign({},t.props,{value:t.variables[t.id].value,onChange:function(e){return t.updateVariable(t.id,e.target.value)},onPressEnter:function(){return t.data.enter?X.call(t.id):null}}))},Chart:function(t){return a.a.createElement(H,Object.assign({},t.props,{chart:t}))},Icon:function(t){return a.a.createElement(S.a,t.props)},Inline:function(t){return a.a.createElement(T,Object.assign({},t.props,{inline:t}))}},_=Object.assign({},Z,$),tt=r(45),et=r.n(tt),rt={updateVariable:function(t,e){return{type:"updateVariable",id:t,value:e}},displayOptions:{type:"displayOptions",displayOptions:!0},hideOptions:{type:"displayOptions",displayOptions:!1},startExportLoading:{type:"exportLoading",exportLoading:!0},endExportLoading:{type:"exportLoading",exportLoading:!1},displayError:function(t){return{type:"displayError",error:t}},hideError:{type:"displayError",error:!1},displayExportObjectResult:function(t){return{type:"displayExportObjectResult",displayExportObjectResult:t}},hideExportObjectResult:{type:"displayExportObjectResult",displayExportObjectResult:!1}},nt=function(t){function e(){return Object(s.a)(this,e),Object(u.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return a.a.createElement(et.a,{onCancel:this.props.hideError,visible:!!this.props.displayError,title:a.a.createElement("div",null,a.a.createElement(S.a,{type:"exclamation-circle",style:{paddingRight:10,color:"red"}}),a.a.createElement("span",null,"Error")),footer:null},a.a.createElement("pre",null,a.a.createElement("code",null,this.props.displayError)))}}]),e}(n.Component),at=Object(l.b)(function(t){return{displayError:t.get("displayError")}},function(t){return{hideError:function(){return t(rt.hideError)}}})(nt),it=r(179),ot=r.n(it);function lt(t,e){var r=function(){return t(rt.hideOptions)},n=function(e){r(),t(rt.displayError(e))};return Object(Q.a)(q.a.mark(function a(){var i,o,l,s,c,u,p,d,h,v,b,y,O;return q.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e&&t(rt.displayOptions),t(rt.startExportLoading),a.prev=2,a.next=5,X.fetchExport();case 5:if(i=a.sent){a.next=10;break}return r(),et.a.warn({title:"Page is already exported"}),a.abrupt("return");case 10:return a.next=12,i.text();case 12:o=a.sent,l=null,s=!0,c=!1,u=void 0,a.prev=17,p=i.headers.entries()[Symbol.iterator]();case 19:if(s=(d=p.next()).done){a.next=30;break}if(h=d.value,v=Object(f.a)(h,2),b=v[0],y=v[1],"content-type"!==b){a.next=27;break}return"application/json"===y&&(l=JSON.parse(o)),a.abrupt("break",30);case 27:s=!0,a.next=19;break;case 30:a.next=36;break;case 32:a.prev=32,a.t0=a.catch(17),c=!0,u=a.t0;case 36:a.prev=36,a.prev=37,s||null==p.return||p.return();case 39:if(a.prev=39,!c){a.next=42;break}throw u;case 42:return a.finish(39);case 43:return a.finish(36);case 44:200!==i.status?(O=l?l.error:o,n("Export failed: ".concat(O))):l?(m=l,r(),t(rt.displayExportObjectResult(m))):ot()(o,"".concat(document.title,".html"),"text/html"),a.next=50;break;case 47:a.prev=47,a.t1=a.catch(2),n(a.t1);case 50:return a.prev=50,t(rt.endExportLoading),a.finish(50);case 53:case"end":return a.stop()}var m},a,this,[[2,47,50,53],[17,32,36,44],[37,,39,43]])}))}var st=function(t){function e(){return Object(s.a)(this,e),Object(u.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this.props,e=t.hideOptions,r=t.displayOptions,n=t.exportLoading,i=t.doExport;return a.a.createElement(et.a,{onCancel:e,visible:r,title:"Options",footer:null},a.a.createElement(x.a,{type:"primary",loading:n,onClick:i,icon:"export"},"Export"))}}]),e}(n.Component),ct=Object(l.b)(function(t){return{exportLoading:t.get("exportLoading"),displayOptions:t.get("displayOptions")}},function(t){return{hideOptions:function(){return t(rt.hideOptions)},doExport:lt(t)}})(st),ut=function(t){function e(){return Object(s.a)(this,e),Object(u.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return a.a.createElement(x.a,{className:"display-options-button",shape:"circle",onClick:this.props.onDisplayOptions,icon:"setting"})}}]),e}(n.Component),pt=Object(l.b)(null,function(t){return{onDisplayOptions:function(){return t(rt.displayOptions)}}})(ut),dt=r(180),ft=r.n(dt);var ht=function(t){function e(){return Object(s.a)(this,e),Object(u.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=null,e=this.props.hideExportObjectResult,r=this.props.displayExportObjectResult;if(r){var n=function(t){for(var e=["Name","Value"].map(function(t){return{title:t,dataIndex:t,key:t}}),r=[],n=Object.entries(t),a=0;a<n.length;a++){var i=n[a],o=Object(f.a)(i,2),l=o[0],s=o[1];r.push({Name:l,Value:s,key:r.length.toString()})}return{columns:e,dataSource:r}}(r=r.toJS());t=a.a.createElement(ft.a,Object.assign({},n,{pagination:!1}))}return a.a.createElement(et.a,{onCancel:e,visible:!!r,title:"Export Result",width:1200,footer:null},t)}}]),e}(n.Component),vt=Object(l.b)(function(t){return{displayExportObjectResult:t.get("displayExportObjectResult")}},function(t){return{hideExportObjectResult:function(){return t(rt.hideExportObjectResult)}}})(ht);r(405);function bt(t){for(var e=Object.entries(t.propChildren),r=0;r<e.length;r++){var n=e[r],a=Object(f.a)(n,2),i=a[0],o=a[1];t.props[i]=bt(o)}return t.children=t.children.map(bt),_[t.elementType](t)}var yt=function(t){function e(){return Object(s.a)(this,e),Object(u.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this.props.roots.toJS(),e=this.props.variables.toJS(),r=this.props.style.toJS(),n=this.props,i=n.updateVariable,o=n.displayOptions,l=n.doExport,s=bt(function t(e,r,n,a,i){var o=Object.values(r).sort(function(t,e){return t.index-e.index}),l={elementType:"div",children:[],props:{style:i},propChildren:{}},s=!0,c=!1,u=void 0;try{for(var p,d=o[Symbol.iterator]();!(s=(p=d.next()).done);s=!0){for(var h=p.value,v=Object.entries(h.propChildren),b=0;b<v.length;b++){var y=v[b],O=Object(f.a)(y,2),m=O[0],j=O[1];h.propChildren[m]=t(e,e[j]||{},n,a)}h.variables=n,h.updateVariable=a,(r[h.parentId]||l).children.push(h)}}catch(g){c=!0,u=g}finally{try{s||null==d.return||d.return()}finally{if(c)throw u}}return l}(t,t.root,e,i,r));return a.a.createElement(h.HotKeys,{focused:!0,keyMap:{displayOptions:"A A A",doExport:"A A E"},handlers:{displayOptions:o,doExport:l}},a.a.createElement("div",null,s,a.a.createElement(at,null),a.a.createElement(ct,null),a.a.createElement(vt,null),a.a.createElement(pt,null)))}}]),e}(n.Component),Ot=Object(l.b)(function(t){return{roots:t.get("roots"),variables:t.get("variables"),style:t.get("style")}},function(t){return{updateVariable:function(e,r){t(rt.updateVariable(e,r)),X.updateVariable(e,r)},displayOptions:function(){return t(rt.displayOptions)},doExport:lt(t,!0)}})(yt),mt=r(25),jt=r(81),gt=Object(mt.a)({roots:{root:{}},variables:{},style:{},displayError:!1,displayOptions:!1,exportLoading:!1,displayExportObjectResult:!1});var xt={append:function(t){return function(e){return e.push(t)}},prepend:function(t){return function(e){return e.unshift(t)}},extend:function(t){return function(e){return e.concat(t)}},addChartData:function(t){return function(e){return e.withMutations(function(e){var r=!0,n=!1,a=void 0;try{for(var i,o=t.values()[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var l=i.value,s=l.get("title"),c=[s,"series"];e.has(s)||(e=e.set(s,Object(mt.a)({title:s,type:l.get("type"),series:[]})));var u=e.getIn(c),p={},d={},h=!0,v=!1,b=void 0;try{for(var y,O=u.values()[Symbol.iterator]();!(h=(y=O.next()).done);h=!0){var m=y.value;d[m.get("name")]=!0}}catch(H){v=!0,b=H}finally{try{h||null==O.return||O.return()}finally{if(v)throw b}}var j=!0,g=!1,x=void 0;try{for(var E,k=l.get("series").values()[Symbol.iterator]();!(j=(E=k.next()).done);j=!0){var I=E.value;d[I.get("name")]&&(p[I.get("name")]=I.get("data"))}}catch(H){g=!0,x=H}finally{try{j||null==k.return||k.return()}finally{if(g)throw x}}var w=!0,C=!1,S=void 0;try{for(var R,L=u.entries()[Symbol.iterator]();!(w=(R=L.next()).done);w=!0){var V=R.value,T=Object(f.a)(V,2),A=T[0],M=T[1];if(p[M.get("name")]){var J=M.get("data"),P=p[M.get("name")],D=J.concat(P);u=u.set(A,M.set("data",D)),e=e.setIn(c,u)}}}catch(H){C=!0,S=H}finally{try{w||null==L.return||L.return()}finally{if(C)throw S}}var N=!0,W=!1,B=void 0;try{for(var F,z=function(){var t=F.value;d[t.get("name")]||(e=e.updateIn(c,function(e){return e.push(Object(mt.a)(t))}))},G=l.get("series").values()[Symbol.iterator]();!(N=(F=G.next()).done);N=!0)z()}catch(H){W=!0,B=H}finally{try{N||null==G.return||G.return()}finally{if(W)throw B}}}}catch(H){n=!0,a=H}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}return e})}}};function Et(t,e,r){for(var n=e.children,a=e.id,i=e.propChildren,o={},l=Object.entries(i),s=0;s<l.length;s++){var c=l[s],u=Object(f.a)(c,2),p=u[0],d=u[1],h=d.id,v=d.children,b=!0,y=!1,O=void 0;try{for(var m,j=v[Symbol.iterator]();!(b=(m=j.next()).done);b=!0){var g=m.value;o[p]=h,t=Et(t,g,h)}}catch(S){y=!0,O=S}finally{try{b||null==j.return||j.return()}finally{if(y)throw O}}}if(e.propChildren=o,e.rootId=r,t=kt(t,e),n){var x=!0,E=!1,k=void 0;try{for(var I,w=n[Symbol.iterator]();!(x=(I=w.next()).done);x=!0){var C=I.value;C.parentId=a,t=Et(t,C,r)}}catch(S){E=!0,k=S}finally{try{x||null==w.return||w.return()}finally{if(E)throw k}}}return t}function kt(t,e){var r=e.id,n=e.rootId,a=e.index,i=e.data,o=e.parentId,l=e.elementType,s=e.props,c=void 0===s?{}:s,u=e.propChildren,p=void 0===u?{}:u;return t.setIn(["roots",n,r],Object(mt.a)({index:a,id:r,parentId:o,data:i,elementType:l,props:c,children:[],propChildren:p}))}function It(t,e){var r=e.id,n=e.value,a=e.version;return t.setIn(["variables",r],Object(mt.a)({id:r,value:n,version:a}))}var wt={processInitialState:function(t,e){var r=e.style,n=e.variables,a=e.children;return t.withMutations(function(t){t=t.set("style",Object(mt.a)(r));for(var e=Object.values(n),i=0;i<e.length;i++)t=It(t,e[i]);var o=!0,l=!1,s=void 0;try{for(var c,u=a[Symbol.iterator]();!(o=(c=u.next()).done);o=!0)t=Et(t,c.value,"root")}catch(p){l=!0,s=p}finally{try{o||null==u.return||u.return()}finally{if(l)throw s}}return t})},newElement:kt,newPropChild:function(t,e){var r=e.id,n=e.prop,a=e.elementRootId,i=e.elementId;return t.setIn(["roots",a,i,"propChildren",n],r)},removeElements:function(t,e){var r=e.entries;return t.withMutations(function(t){var e=!0,n=!1,a=void 0;try{for(var i,o=r[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var l=i.value;"element"===l.type?t=t.removeIn(["roots",l.rootId,l.id]):"root"===l.type?t=t.removeIn(["roots",l.id]):"variable"===l.type&&(t=t.removeIn(["variables",l.id]))}}catch(s){n=!0,a=s}finally{try{e||null==o.return||o.return()}finally{if(n)throw a}}return t})},newVariable:It,updatePath:function(t,e){var r=e.id,n=e.rootId,a=e.updateData,i=a.path,o=a.action,l=a.data,s=["roots",n,r].concat(i);return"set"===o?t.setIn(s,Object(mt.a)(l)):t.updateIn(s,xt[o](Object(mt.a)(l)))},updateVariable:function(t,e){var r=e.id,n=e.value,a=e.version,i=void 0===a?-1:a,o=-1===i,l=t.getIn(["variables",r,"version"]);if(!o&&l>=i)return t;var s={value:n};return o||(s.version=i),t.mergeIn(["variables",r],Object(mt.a)(s))},displayError:function(t,e){var r=e.error;return t.set("displayError",r)},displayOptions:function(t,e){var r=e.displayOptions;return t.set("displayOptions",r)},exportLoading:function(t,e){var r=e.exportLoading;return t.set("exportLoading",r)},displayExportObjectResult:function(t,e){var r=e.displayExportObjectResult;return t.set("displayExportObjectResult",Object(mt.a)(r))}};var Ct=Object(jt.b)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,e=arguments.length>1?arguments[1]:void 0,r=wt[e.type];return r?r(t,e):t});Y.start({store:Ct,initialState:window.frozenState}),o.a.render(a.a.createElement(l.a,{store:Ct},a.a.createElement(Ot,null)),document.getElementById("root"))}},[[181,2,1]]]);
//# sourceMappingURL=main.9867f672.chunk.js.map