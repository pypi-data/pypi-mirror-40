(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{173:function(e,t,n){e.exports=n(399)},395:function(e,t,n){},399:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),i=n(9),l=n.n(i),o=n(80),s=n(16),c=n(17),u=n(25),d=n(24),p=n(26),v=n(169),h=n.n(v),f=n(170),y=n.n(f),b=n(79),m=n.n(b),g=n(48),O=n.n(g),j=n(171),E=n.n(j),w=n(13),x=n.n(w),k=n(112),I=n.n(k),S=n(172),T=n.n(S),C=n(81),V=n(160),A=n.n(V),M=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.table,t=e.data,n=t.headers,r=t.rows,i=n.map(function(e){return{title:e,dataIndex:e,key:e}}),l=r.map(function(e){var t=e.data,r=e.id,a=t.map(function(e,t){return[n[t],e]}),i={key:r},l=!0,o=!1,s=void 0;try{for(var c,u=a[Symbol.iterator]();!(l=(c=u.next()).done);l=!0){var d=c.value,p=Object(C.a)(d,2),v=p[0],h=p[1];i[v]=h}}catch(f){o=!0,s=f}finally{try{l||null==u.return||u.return()}finally{if(o)throw s}}return i});return a.a.createElement(A.a,Object.assign({},e.props,{dataSource:l,columns:i}))}}]),t}(r.Component),J=n(58),P=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.grid,t=e.props,n=e.data,r=e.children;delete t.key;for(var i=n.columns,l=n.childColumns,o=24/i,s=[],c=[],u=0,d=0;d<r.length;d++){var p=d.toString(),v=r[d],h=o*l[d];u+h>24&&(s.push(c),u=0,c=[]),u+=h,c.push(a.a.createElement(J.Col,Object.assign({},t,{key:p,span:h}),v))}c.length>0&&s.push(c);var f=t.gutter||0;return s.map(function(e,n){return a.a.createElement(J.Row,Object.assign({},t,{key:n.toString(),style:{paddingBottom:f}}),e)})}}]),t}(r.Component),D=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.text,t=e.data,n=e.props,r=(t.text||"").split("\n");return a.a.createElement("div",null,r.map(function(e,t){return e?a.a.createElement("div",Object.assign({},n,{key:t.toString()}),e):a.a.createElement("br",{key:t.toString()})}))}}]),t}(r.Component),R=n(165),W=n(166),B=n.n(W),F=n(110),N=n.n(F),_=n(167),z=n.n(_);function G(e){if(e.userOptions.callbackOptions.movingWindow){var t=function(t,n){var r=e.xAxis[0],a=r.getExtremes().dataMax,i=r.minRange;r.setExtremes(a-i,a+8e3,n)};t(0,!0),N.a.addEvent(e,"update",t)}}var U=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){for(var e=this.props.chart.data,t=e.data,n=e.options,r=e.movingWindow,i=[],l=Object.values(t),o=0;o<l.length;o++){var s=l[o],c=s.series,u=s.title,d=s.type,p={callbackOptions:{movingWindow:r},chart:{type:d,height:300},title:{text:u},plotOptions:Object(R.a)({},d,{marker:{enabled:!1,symbol:"circle"}}),time:{useUTC:!1},xAxis:{minRange:r?1e3*r:void 0,type:"datetime"},yAxis:{title:{text:""},tickPixelInterval:36}},v=void 0;Object.keys(n||{}).length>0?(B.a.defaultsDeep(n,[p]),v=n):v=p,v.series=c,i.push(v)}return a.a.createElement("div",null,i.map(function(e,t){return a.a.createElement(z.a,{callback:G,key:t.toString(),highcharts:N.a,options:e})}))}}]),t}(r.Component),q=n(111),H=n.n(q),K=n(168),L=null,Q=function(){function e(t){var n=this,r=t.processor,a=t.host,i=t.port;Object(s.a)(this,e),this.processor=r,this.finishedInitialFetch=!1,this.clientId=null,this.pendingActions=[],this.ws=new WebSocket("ws://".concat(a,":").concat(i)),this.ws.onmessage=this.onMessage.bind(this),this.ws.onerror=function(e){return console.error("ws error",e)},e.fetchInitialState().then(function(e){n.processor.processInitialState(e);var t=e.version,r=!0,a=!1,i=void 0;try{for(var l,o=n.pendingActions[Symbol.iterator]();!(r=(l=o.next()).done);r=!0){var s=l.value;s.version>t&&n.processor.dispatch(s)}}catch(c){a=!0,i=c}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}n.pendingActions=[],n.finishedInitialFetch=!0})}return Object(c.a)(e,[{key:"call",value:function(e,t){this.sendMessage({type:"call",functionId:e,kwargs:t,clientId:this.clientId})}},{key:"updateVariable",value:function(e,t){this.sendMessage({type:"updateVariable",variableId:e,value:t,clientId:this.clientId})}},{key:"sendMessage",value:function(e){this.ws.send(JSON.stringify(e))}},{key:"onMessage",value:function(e){var t=JSON.parse(e.data);"setClientId"===t.type?this.clientId=t.clientId:this.finishedInitialFetch?this.processor.dispatch(t):this.pendingActions.push(t)}}],[{key:"start",value:function(t){var n=t.processor,r=t.host,a=void 0===r?"127.0.0.1":r,i=t.port,l=void 0===i?9e3:i,o=t.initialState;if(o){var s="This is not supported in offline mode";L={call:function(){return console.warn(s)},updateVariable:function(){return console.warn(s)}},setTimeout(function(){return n.processInitialState(o)},0)}else L=new e({processor:n,host:a,port:l});return L}},{key:"fetchInitialState",value:function(){var e=Object(K.a)(H.a.mark(function e(){return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/initial-state");case 2:return e.next=4,e.sent.json();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),X={div:function(e){return a.a.createElement("div",e.props,e.children)}},Y={Text:function(e){return a.a.createElement(D,Object.assign({},e.props,{text:e}))},Card:function(e){return a.a.createElement(h.a,e.props,e.children.length>0?e.children:e.data.text)},Table:function(e){return a.a.createElement(M,Object.assign({},e.props,{table:e}))},Grid:function(e){return a.a.createElement(P,Object.assign({},e.props,{grid:e}))},Divider:function(e){return a.a.createElement(y.a,e.props)},Collapse:function(e){return a.a.createElement(I.a,e.props,e.children)},Panel:function(e){return a.a.createElement(I.a.Panel,e.props,e.children)},Tab:function(e){return a.a.createElement(m.a.TabPane,e.props,e.children)},Tabs:function(e){return a.a.createElement(m.a,e.props,e.children||a.a.createElement("div",null))},Button:function(e){return a.a.createElement(O.a,Object.assign({},e.props,{onClick:function(){return L.call(e.id)}}),e.data.text)},Input:function(e){return a.a.createElement(E.a,Object.assign({},e.props,{value:e.variables[e.id].value,onChange:function(t){return e.updateVariable(e.id,t.target.value)},onPressEnter:function(){return e.data.enter?L.call(e.id):null}}))},Chart:function(e){return a.a.createElement(U,Object.assign({},e.props,{chart:e}))},_Error:function(e){return a.a.createElement(T.a,{key:"error",onCancel:e.hideError,visible:!0,title:a.a.createElement("div",null,a.a.createElement(x.a,{type:"exclamation-circle",style:{paddingRight:10,color:"red"}}),a.a.createElement("span",null,"Error")),footer:null},a.a.createElement("pre",null,a.a.createElement("code",null,e.displayError)))}},Z=Object.assign({},X,Y);n(395);function $(e){return e.children=e.children.map($),Z[e.elementType](e)}var ee=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.state.toJS(),t=e.elements,n=e.variables,r=e.style,a=e.displayError,i=this.props,l=i.updateVariable,o=i.hideError,s=Object.values(t).sort(function(e,t){return e.index-t.index}),c={elementType:"div",children:[],props:{style:r}};a&&s.push({elementType:"_Error",children:[],displayError:a,hideError:o});var u=!0,d=!1,p=void 0;try{for(var v,h=s[Symbol.iterator]();!(u=(v=h.next()).done);u=!0){var f=v.value;f.variables=n,f.updateVariable=l,(t[f.parentId]||c).children.push(f)}}catch(y){d=!0,p=y}finally{try{u||null==h.return||h.return()}finally{if(d)throw p}}return $(c)}}]),t}(r.Component),te=Object(o.b)(function(e){return{state:e}},function(e){return{updateVariable:function(t,n){e({type:"updateVariable",id:t,value:n}),L.updateVariable(t,n)},hideError:function(){e({type:"hideError"})}}})(ee),ne=function(){function e(t){Object(s.a)(this,e),this.store=t}return Object(c.a)(e,[{key:"processInitialState",value:function(e){var t=e.variables,n=e.children,r=e.style,a=e.title;this.processTitle(a),this.processStyle(r);for(var i=Object.values(t),l=0;l<i.length;l++){var o=i[l];this.processVariable(o)}var s=!0,c=!1,u=void 0;try{for(var d,p=n[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){var v=d.value;this.processElement(v)}}catch(h){c=!0,u=h}finally{try{s||null==p.return||p.return()}finally{if(c)throw u}}}},{key:"processTitle",value:function(e){document.title=e}},{key:"processStyle",value:function(e){this.dispatch({type:"setStyle",style:e})}},{key:"processVariable",value:function(e){var t=e.id,n=e.value,r=e.version;this.dispatch({type:"newVariable",id:t,value:n,version:r})}},{key:"processElement",value:function(e){var t=e.children,n=e.data,r=e.elementType,a=e.index,i=e.id,l=e.parentId,o=e.props;if(this.dispatch({type:"newElement",id:i,elementType:r,index:a,data:n,parentId:l,props:o}),t){var s=!0,c=!1,u=void 0;try{for(var d,p=t[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){var v=d.value;v.parentId=i,this.processElement(v)}}catch(h){c=!0,u=h}finally{try{s||null==p.return||p.return()}finally{if(c)throw u}}}}},{key:"dispatch",value:function(e){this.store.dispatch(e)}}]),e}(),re=n(31),ae=n(75),ie=Object(re.a)({elements:{},variables:{},style:{},displayError:null});var le={append:function(e){return function(t){return t.push(e)}},prepend:function(e){return function(t){return t.unshift(e)}},addChartData:function(e){return function(t){return t.withMutations(function(t){var n=!0,r=!1,a=void 0;try{for(var i,l=e.values()[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var o=i.value,s=o.get("title"),c=[s,"series"];t.has(s)||(t=t.set(s,Object(re.a)({title:s,type:o.get("type"),series:[]})));var u=t.getIn(c),d={},p={},v=!0,h=!1,f=void 0;try{for(var y,b=u.values()[Symbol.iterator]();!(v=(y=b.next()).done);v=!0){var m=y.value;p[m.get("name")]=!0}}catch(U){h=!0,f=U}finally{try{v||null==b.return||b.return()}finally{if(h)throw f}}var g=!0,O=!1,j=void 0;try{for(var E,w=o.get("series").values()[Symbol.iterator]();!(g=(E=w.next()).done);g=!0){var x=E.value;p[x.get("name")]&&(d[x.get("name")]=x.get("data"))}}catch(U){O=!0,j=U}finally{try{g||null==w.return||w.return()}finally{if(O)throw j}}var k=!0,I=!1,S=void 0;try{for(var T,V=u.entries()[Symbol.iterator]();!(k=(T=V.next()).done);k=!0){var A=T.value,M=Object(C.a)(A,2),J=M[0],P=M[1];if(d[P.get("name")]){var D=P.get("data"),R=d[P.get("name")],W=D.concat(R);u=u.set(J,P.set("data",W)),t=t.setIn(c,u)}}}catch(U){I=!0,S=U}finally{try{k||null==V.return||V.return()}finally{if(I)throw S}}var B=!0,F=!1,N=void 0;try{for(var _,z=function(){var e=_.value;p[e.get("name")]||(t=t.updateIn(c,function(t){return t.push(Object(re.a)(e))}))},G=o.get("series").values()[Symbol.iterator]();!(B=(_=G.next()).done);B=!0)z()}catch(U){F=!0,N=U}finally{try{B||null==G.return||G.return()}finally{if(F)throw N}}}}catch(U){r=!0,a=U}finally{try{n||null==l.return||l.return()}finally{if(r)throw a}}return t})}}};var oe,se={setStyle:function(e,t){var n=t.style;return e.set("style",n)},newElement:function(e,t){var n=t.id,r=t.index,a=t.data,i=t.parentId,l=t.elementType,o=t.props,s=void 0===o?{}:o;return e.setIn(["elements",n],Object(re.a)({index:r,id:n,parentId:i,data:a,elementType:l,props:s,children:[]}))},newVariable:function(e,t){var n=t.id,r=t.value,a=t.version;return e.setIn(["variables",n],Object(re.a)({id:n,value:r,version:a}))},updateElement:(oe="elements",function(e,t){var n=t.id,r=t.updateData,a=r.path,i=void 0===a?[]:a,l=r.action,o=r.data,s=[oe,n].concat(i);return"set"===l?e.setIn(s,Object(re.a)(o)):e.updateIn(s,le[l](Object(re.a)(o)))}),updateVariable:function(e,t){var n=t.id,r=t.value,a=t.version,i=void 0===a?-1:a,l=-1===i,o=e.getIn(["variables",n,"version"]);if(!l&&o>=i)return e;var s={value:r};return l||(s.version=i),e.mergeIn(["variables",n],Object(re.a)(s))},displayError:function(e,t){var n=t.error;return e.set("displayError",n)},hideError:function(e){return e.set("displayError",null)}};var ce=Object(ae.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0,n=se[t.type];return n?n(e,t):e});Q.start({processor:new ne(ce),initialState:window.frozenState}),l.a.render(a.a.createElement(o.a,{store:ce},a.a.createElement(te,null)),document.getElementById("root"))}},[[173,2,1]]]);
//# sourceMappingURL=main.7b06ff03.chunk.js.map