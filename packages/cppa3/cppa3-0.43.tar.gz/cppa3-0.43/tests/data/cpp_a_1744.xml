<?xml version="1.0" encoding="UTF-8"?>
<cppa:CPP xmlns:cppa="http://docs.oasis-open.org/ebcore/ns/cppa/v3.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://docs.oasis-open.org/ebxmlcppa/cppa-3.0 ../../../cppa3-xsd/cppa3.xsd">
    <cppa:ProfileInfo>
        <cppa:ProfileIdentifier>Acpp Super</cppa:ProfileIdentifier>
        <cppa:ActivationDate>1998-01-01T00:00:00</cppa:ActivationDate>
        <cppa:PhaseIn>P7D</cppa:PhaseIn>
    </cppa:ProfileInfo>

    <cppa:PartyInfo>
        <cppa:PartyName xml:lang="en">Company A</cppa:PartyName>
        <cppa:PartyId type="urn:oasis:tc:ebcore:partyid-type:ABN:0151">01234567891</cppa:PartyId>
        
        <cppa:Certificate id="a_signingcert" xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
            <ds:KeyInfo>
                <ds:KeyName>A cert</ds:KeyName>
            </ds:KeyInfo>
        </cppa:Certificate>
        <cppa:CertificateDefaults>
            <cppa:SigningCertificateRef certId="a_signingcert"/>
        </cppa:CertificateDefaults>

    </cppa:PartyInfo>

    <cppa:ServiceSpecification>
        <cppa:PartyRole name="http://docs.oasis-open.org/ebxml-msg/ebms/v3.0/ns/core/200704/initiator"/>
        <cppa:CounterPartyRole name="http://docs.oasis-open.org/ebxml-msg/ebms/v3.0/ns/core/200704/responder"/>
        <cppa:ServiceBinding>
            <cppa:Service>http://sbr.gov.au/service/Rollover/1.0</cppa:Service>
            <cppa:ActionBinding id="a1" action="InitiateRolloverRequest" sendOrReceive="send"  >
                <cppa:ChannelId>ch1</cppa:ChannelId>
                <cppa:PayloadProfileId>pp</cppa:PayloadProfileId>
            </cppa:ActionBinding>
            <cppa:ActionBinding id="a3" action="RolloverTransactionRequest" sendOrReceive="send" >
                <cppa:ChannelId>ch1</cppa:ChannelId>
                <cppa:PayloadProfileId>pp</cppa:PayloadProfileId>
            </cppa:ActionBinding>
        </cppa:ServiceBinding>
    </cppa:ServiceSpecification>

    <cppa:ServiceSpecification>
        <cppa:PartyRole name="http://docs.oasis-open.org/ebxml-msg/ebms/v3.0/ns/core/200704/responder"/>
        <cppa:CounterPartyRole name="http://docs.oasis-open.org/ebxml-msg/ebms/v3.0/ns/core/200704/initiator"/>
        <cppa:ServiceBinding>
            <cppa:Service>http://sbr.gov.au/service/Rollover/1.0</cppa:Service>
            <cppa:ActionBinding id="a2" action="InitiateRolloverErrorResponse" sendOrReceive="receive" >
                <cppa:ChannelId>ch3</cppa:ChannelId>
                <cppa:PayloadProfileId>pp</cppa:PayloadProfileId>
            </cppa:ActionBinding>
            <cppa:ActionBinding id="a4" action="RolloverTransactionOutcomeResponse" sendOrReceive="receive" >
                <cppa:ChannelId>ch3</cppa:ChannelId>
                <cppa:PayloadProfileId>pp</cppa:PayloadProfileId>
            </cppa:ActionBinding>
        </cppa:ServiceBinding>
    </cppa:ServiceSpecification>
    
    <cppa:ebMS3Channel id="ch1"         
        actorOrRole="http://docs.oasis-open.org/ebxml-msg/ebms/v3.0/ns/part2/200811/nextmsh" 
        splitting="spl" receiptHandling="rh1" errorHandling="eh1">
        <cppa:Description xml:lang="en">Large volume profile, outgoing using push and PKI</cppa:Description>
        <cppa:ChannelProfile>http://sbr.gov.au/agreement/Largevolume/1.0/Push/PKI</cppa:ChannelProfile>
    </cppa:ebMS3Channel>

    <cppa:ebMS3Channel id="ch2" asResponse="true"         
        actorOrRole="http://docs.oasis-open.org/ebxml-msg/ebms/v3.0/ns/part2/200811/nextmsh" >
        <cppa:Description xml:lang="en">Synchronous response channel for errors on outgoing messages</cppa:Description>
        <cppa:ChannelProfile>http://sbr.gov.au/agreement/Largevolume/1.0/Push/PKI/Signals</cppa:ChannelProfile>
        <cppa:Addressing>
            <cppa:Endpoint>http://docs.oasis-open.org/ebxml-msg/ebms/v3.0/ns/part2/200811/icloud</cppa:Endpoint>
            <cppa:Action name="http://docs.oasis-open.org/ebxml-msg/ebms/v3.0/ns/core/200704/oneWay.error" />
            <cppa:ebMS3InferredRoutingInput>
                <cppa:ActionSuffix>.error</cppa:ActionSuffix>
            </cppa:ebMS3InferredRoutingInput>
        </cppa:Addressing>
    </cppa:ebMS3Channel>
    
    <cppa:ebMS3Channel id="ch2r" asResponse="true"         
        actorOrRole="http://docs.oasis-open.org/ebxml-msg/ebms/v3.0/ns/part2/200811/nextmsh" >
        <cppa:Description xml:lang="en">Synchronous response channel for receipts on outgoing messages</cppa:Description>
        <cppa:ChannelProfile>http://sbr.gov.au/agreement/Largevolume/1.0/Push/PKI/Signals</cppa:ChannelProfile>
        <cppa:Addressing>
            <cppa:Endpoint>http://docs.oasis-open.org/ebxml-msg/ebms/v3.0/ns/part2/200811/icloud</cppa:Endpoint>
            <cppa:Action name="http://docs.oasis-open.org/ebxml-msg/ebms/v3.0/ns/core/200704/oneWay.receipt" />
            <cppa:ebMS3InferredRoutingInput>
                <cppa:ActionSuffix>.receipt</cppa:ActionSuffix>
            </cppa:ebMS3InferredRoutingInput>
        </cppa:Addressing>
    </cppa:ebMS3Channel>
    
    <cppa:ebMS3Channel id="ch3"         
        actorOrRole="http://docs.oasis-open.org/ebxml-msg/ebms/v3.0/ns/part2/200811/nextmsh"
        splitting="spl" receiptHandling="rh2" errorHandling="eh2">
        <cppa:Description xml:lang="en">Large volume profile, incoming using push and PKI</cppa:Description>
        <cppa:ChannelProfile>http://sbr.gov.au/agreement/Largevolume/1.0/Push/PKI</cppa:ChannelProfile>
    </cppa:ebMS3Channel>
    
    <cppa:ebMS3Channel id="ch4" asResponse="true"            
        actorOrRole="http://docs.oasis-open.org/ebxml-msg/ebms/v3.0/ns/part2/200811/nextmsh"    >
        <cppa:Description xml:lang="en">Synchronous response channel for errors on incoming messages</cppa:Description>
        <cppa:ChannelProfile>http://sbr.gov.au/agreement/Largevolume/1.0/Push/PKI/Signals</cppa:ChannelProfile>
        <cppa:Addressing>
            <cppa:Endpoint>http://docs.oasis-open.org/ebxml-msg/ebms/v3.0/ns/part2/200811/icloud</cppa:Endpoint>
            <cppa:Action name="http://docs.oasis-open.org/ebxml-msg/ebms/v3.0/ns/core/200704/oneWay.error" />
            <cppa:ebMS3InferredRoutingInput>
                <cppa:ActionSuffix>.error</cppa:ActionSuffix>
            </cppa:ebMS3InferredRoutingInput>
        </cppa:Addressing>
    </cppa:ebMS3Channel>
    
    <cppa:ebMS3Channel id="ch4r" asResponse="true"            
        actorOrRole="http://docs.oasis-open.org/ebxml-msg/ebms/v3.0/ns/part2/200811/nextmsh"    >
        <cppa:Description xml:lang="en">Synchronous response channel for receipts on incoming messages</cppa:Description>
        <cppa:ChannelProfile>http://sbr.gov.au/agreement/Largevolume/1.0/Push/PKI/Signals</cppa:ChannelProfile>
        <cppa:Addressing>
            <cppa:Endpoint>http://docs.oasis-open.org/ebxml-msg/ebms/v3.0/ns/part2/200811/icloud</cppa:Endpoint>
            <cppa:Action name="http://docs.oasis-open.org/ebxml-msg/ebms/v3.0/ns/core/200704/oneWay.receipt" />
            <cppa:ebMS3InferredRoutingInput>
                <cppa:ActionSuffix>.receipt</cppa:ActionSuffix>
            </cppa:ebMS3InferredRoutingInput>
        </cppa:Addressing>
    </cppa:ebMS3Channel>
    
    <cppa:ErrorHandling id="eh1">
        <cppa:ReceiverErrorsReportChannelId>ch2</cppa:ReceiverErrorsReportChannelId>
    </cppa:ErrorHandling>

    <cppa:ErrorHandling id="eh2">
        <cppa:ReceiverErrorsReportChannelId>ch4</cppa:ReceiverErrorsReportChannelId>
    </cppa:ErrorHandling>
    
    <cppa:ReceiptHandling id="rh1">
        <cppa:ReceiptChannelId>ch2r</cppa:ReceiptChannelId>
    </cppa:ReceiptHandling>

    <cppa:ReceiptHandling id="rh2">
        <cppa:ReceiptChannelId>ch4r</cppa:ReceiptChannelId>
    </cppa:ReceiptHandling>
    
    <cppa:Splitting id="spl">
        <cppa:FragmentSize unit="M">10</cppa:FragmentSize>
        <cppa:CompressionAlgorithm>application/gzip</cppa:CompressionAlgorithm>
        <cppa:JoinInterval>PT48H</cppa:JoinInterval>
    </cppa:Splitting>
    
    <cppa:PayloadProfile id="pp">
        <cppa:PayloadPart>
            <cppa:PartName>businessdocument</cppa:PartName>
            <cppa:MaxSize unit="G">1</cppa:MaxSize>
        </cppa:PayloadPart>
    </cppa:PayloadProfile>

</cppa:CPP>