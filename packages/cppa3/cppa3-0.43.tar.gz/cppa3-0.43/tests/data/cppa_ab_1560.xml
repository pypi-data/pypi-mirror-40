<cppa:CPA xmlns:cppa="http://docs.oasis-open.org/ebcore/ns/cppa/v3.0" xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:dsig11="http://www.w3.org/2009/xmldsig11#" xmlns:xkms="http://www.w3.org/2002/03/xkms#">
  <cppa:AgreementInfo>
    <cppa:AgreementIdentifier>Acpp_Bcpp</cppa:AgreementIdentifier>
    <cppa:Description xml:lang="en">Agreement formed from Acpp and Bcpp at 2018-12-06T15:12:15.782329</cppa:Description>
    <cppa:ProfileIdentifier>Acpp</cppa:ProfileIdentifier>
    <cppa:ProfileIdentifier>Bcpp</cppa:ProfileIdentifier>
    <cppa:ActivationDate>2018-12-13T15:12:15.782370</cppa:ActivationDate>
  </cppa:AgreementInfo>
  <cppa:PartyInfo>
    <cppa:PartyName xml:lang="en">Party A</cppa:PartyName>
    <cppa:PartyId type="urn:oasis:names:tc:ebcore:partyid-type:unregistered">A</cppa:PartyId>
  </cppa:PartyInfo>
  <cppa:CounterPartyInfo>
    <cppa:PartyName xml:lang="en">Party B</cppa:PartyName>
    <cppa:PartyId type="urn:oasis:names:tc:ebcore:partyid-type:unregistered">B</cppa:PartyId>
  </cppa:CounterPartyInfo>
  <cppa:ServiceSpecification>
    <cppa:PartyRole name="Buyer"/>
    <cppa:CounterPartyRole name="Seller"/>
    <cppa:ServiceBinding>
      <cppa:Service>OrderingBilling</cppa:Service>
      <cppa:ActionBinding action="SubmitOrder" id="BiiTrns001_S" sendOrReceive="send">
        <cppa:ChannelId>_UB4K</cppa:ChannelId>
      </cppa:ActionBinding>
    </cppa:ServiceBinding>
  </cppa:ServiceSpecification>
  <cppa:ebMS3Channel id="_UB4K" transport="_XZGO">
    <cppa:Description xml:lang="en">Channel formed from a_ch1 (Outbound ebMS3 channel
            Signing and encryption.  MessageFragment is included in signature.
            AS4 reliable messaging with signed synchronous non-repudiation receipts.
        ) in Acpp and b_ch1 in Bcpp</cppa:Description>
    <cppa:SOAPVersion>1.2</cppa:SOAPVersion>
    <cppa:WSSecurityBinding>
      <cppa:WSSVersion>1.1</cppa:WSSVersion>
      <cppa:Signature>
        <cppa:SignatureAlgorithm>https://www.w3.org/2001/04/xmldsig-more#rsa-sha256</cppa:SignatureAlgorithm>
        <cppa:DigestAlgorithm>http://www.w3.org/2001/04/xmlenc#sha256</cppa:DigestAlgorithm>
        <cppa:SignElements>
          <cppa:Expression>{http://docs.oasis-open.org/ebxml-msg/ns/v3.0/mf/2010/04/}MessageFragment</cppa:Expression>
          <cppa:Expression>{http://www.w3.org/2003/05/soap-envelope}Body</cppa:Expression>
          <cppa:Expression>{http://www.w3.org/2003/05/soap-envelope}Header/{http://docs.oasis-open.org/ebxml-msg/ebms/v3.0/ns/core/200704/}Messaging</cppa:Expression>
        </cppa:SignElements>
        <cppa:SignAttachments>true</cppa:SignAttachments>
      </cppa:Signature>
      <cppa:Encryption>
        <cppa:KeyEncryption>
          <cppa:EncryptionAlgorithm> http://www.w3.org/2009/xmlenc11#rsa-oaep</cppa:EncryptionAlgorithm>
          <cppa:MaskGenerationFunction>http://www.w3.org/2009/xmlenc11#mgf1sha256</cppa:MaskGenerationFunction>
          <cppa:DigestAlgorithm>http://www.w3.org/2001/04/xmlenc#sha256</cppa:DigestAlgorithm>
        </cppa:KeyEncryption>
        <cppa:EncryptionAlgorithm>http://www.w3.org/2009/xmlenc11#aes128-gcm</cppa:EncryptionAlgorithm>
        <cppa:EncryptAttachments>true</cppa:EncryptAttachments>
      </cppa:Encryption>
    </cppa:WSSecurityBinding>
    <cppa:AS4ReceptionAwareness>
      <cppa:DuplicateHandling>
        <cppa:DuplicateElimination>true</cppa:DuplicateElimination>
      </cppa:DuplicateHandling>
      <cppa:RetryHandling>
        <cppa:Retries>4</cppa:Retries>
        <cppa:RetryInterval>PT1H</cppa:RetryInterval>
      </cppa:RetryHandling>
    </cppa:AS4ReceptionAwareness>
    <cppa:ErrorHandling>
      <cppa:ReceiverErrorsReportChannelId>_CW65</cppa:ReceiverErrorsReportChannelId>
    </cppa:ErrorHandling>
    <cppa:ReceiptHandling>
      <cppa:ReceiptFormat>NonRepudiationInformation</cppa:ReceiptFormat>
      <cppa:ReceiptChannelId>_CW65</cppa:ReceiptChannelId>
    </cppa:ReceiptHandling>
    <cppa:Compression>
      <cppa:CompressionAlgorithm>application/gzip</cppa:CompressionAlgorithm>
    </cppa:Compression>
    <cppa:Splitting>
      <cppa:SourceChannelId>_VHKW</cppa:SourceChannelId>
    </cppa:Splitting>
  </cppa:ebMS3Channel>
  <cppa:ebMS3Channel id="_CW65" asResponse="true">
    <cppa:Description xml:lang="en">Channel formed from a_sync_signal_inboud_channel (Inbound signed synchronous ebMS3 signals) in Acpp and b_sync_outbound_signal_channel (Inbound signed synchronous ebMS3 signals) in Bcpp</cppa:Description>
    <cppa:WSSecurityBinding>
      <cppa:WSSVersion>1.1</cppa:WSSVersion>
      <cppa:Signature>
        <cppa:SignatureAlgorithm>https://www.w3.org/2001/04/xmldsig-more#rsa-sha256</cppa:SignatureAlgorithm>
        <cppa:DigestAlgorithm>http://www.w3.org/2001/04/xmlenc#sha256</cppa:DigestAlgorithm>
        <cppa:SignElements>
          <cppa:Expression>{http://www.w3.org/2003/05/soap-envelope}Body</cppa:Expression>
          <cppa:Expression>{http://www.w3.org/2003/05/soap-envelope}Header/{http://docs.oasis-open.org/ebxml-msg/ebms/v3.0/ns/core/200704/}Messaging</cppa:Expression>
        </cppa:SignElements>
      </cppa:Signature>
    </cppa:WSSecurityBinding>
  </cppa:ebMS3Channel>
  <cppa:ebMS3Channel id="_VHKW">
    <cppa:Description xml:lang="en">Channel formed from a_source_ch_a (Channel for underlying source message in split / join. 
            No WS-Security, asynchronous reception awareness receipts.
        ) in Acpp and b_source_ch_b in Bcpp</cppa:Description>
    <cppa:SOAPVersion>1.2</cppa:SOAPVersion>
    <cppa:ReceiptHandling>
      <cppa:ReceiptFormat>UserMessage</cppa:ReceiptFormat>
      <cppa:ReceiptChannelId>_CF4N</cppa:ReceiptChannelId>
    </cppa:ReceiptHandling>
  </cppa:ebMS3Channel>
  <cppa:ebMS3Channel id="_CF4N" transport="_YTHP">
    <cppa:Description xml:lang="en">Channel formed from a_inbound_async_ebms3_signals (Channel for inbound ebMS3 signals) in Acpp and b_outbound_async_ebms3_signals (Channel for inbound ebMS3 signals) in Bcpp</cppa:Description>
    <cppa:WSSecurityBinding>
      <cppa:WSSVersion>1.1</cppa:WSSVersion>
      <cppa:Signature>
        <cppa:SignatureAlgorithm>https://www.w3.org/2001/04/xmldsig-more#rsa-sha256</cppa:SignatureAlgorithm>
        <cppa:DigestAlgorithm>http://www.w3.org/2001/04/xmlenc#sha256</cppa:DigestAlgorithm>
        <cppa:SignElements>
          <cppa:Expression>{http://www.w3.org/2003/05/soap-envelope}Body</cppa:Expression>
          <cppa:Expression>{http://www.w3.org/2003/05/soap-envelope}Header/{http://docs.oasis-open.org/ebxml-msg/ebms/v3.0/ns/core/200704/}Messaging</cppa:Expression>
        </cppa:SignElements>
      </cppa:Signature>
    </cppa:WSSecurityBinding>
  </cppa:ebMS3Channel>
  <cppa:HTTPTransport id="_XZGO">
    <cppa:Description xml:lang="en">Transport formed from tr1 in Acpp and tr1 in Bcpp</cppa:Description>
    <cppa:ClientIPv4>1.2.3.4</cppa:ClientIPv4>
    <cppa:Endpoint>https://b.example.com/as4</cppa:Endpoint>
  </cppa:HTTPTransport>
  <cppa:HTTPTransport id="_YTHP">
    <cppa:Description xml:lang="en">Transport formed from tr2 in Acpp and tr2 in Bcpp</cppa:Description>
    <cppa:Endpoint>https://a.example.com/msh</cppa:Endpoint>
  </cppa:HTTPTransport>
</cppa:CPA>
